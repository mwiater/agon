<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>agon: LLM Metrics Report</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <script src="https://kit.fontawesome.com/517f4f7a2b.js" crossorigin="anonymous"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Two+Tone" rel="stylesheet">
  <style>
    :root {
      --primary: #334155;
      --secondary: #64748B;
      --accent: #3B82F6;
      --light: #F1F5F9;
      --background: #FFFFFF;
      --text: #0F172A;
      --success: #10B981;
      --warning: #F59E0B;
      --border: #E2E8F0;
    }
    [data-theme="dark"] {
      --primary: #0F172A;
      --secondary: #94A3B8;
      --accent: #60A5FA;
      --light: #0B1220;
      --background: #0F172A;
      --text: #E2E8F0;
      --success: #34D399;
      --warning: #FBBF24;
      --border: rgba(148, 163, 184, 0.25);
    }
    body {
      background-color: var(--light);
      color: var(--text);
    }
    .navbar-dark {
      background-color: var(--primary) !important;
    }
    .bg-dark {
      background-color: var(--primary) !important;
    }
    .navbar-dark .navbar-brand,
    .navbar-dark .text-light {
      color: var(--light) !important;
    }
    .card {
      border: 1px solid var(--border);
      background-color: var(--background);
    }
    .table thead th { cursor: pointer; }
    .table thead th,
    .table thead td {
      background-color: var(--light);
      color: var(--text);
      border-color: var(--border);
    }
    .table-striped>tbody>tr:nth-of-type(odd)>* {
      --bs-table-accent-bg: var(--light);
    }
    .table-bordered>:not(caption)>* {
      border-color: var(--border);
    }
    .sort-icon { font-size: 0.8rem; margin-left: 0.25rem; }
    .accordion-button .badge { margin-left: 0.5rem; }
    .accordion-button {
      background-color: var(--light);
      color: var(--text);
    }
    .accordion-button:not(.collapsed) {
      background-color: var(--accent);
      color: var(--background);
    }
    .list-group-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: var(--background);
      border-color: var(--border);
      color: var(--text);
    }
    .notes-list li { margin-bottom: 0.25rem; }
    .table#modelsTable>tbody>tr>td.top-performer {
      background-color: #DBEAFE;
      font-weight: 600;
      color: var(--text);
    }
    .chart-card {
      background: var(--background);
      border-radius: 16px;
      padding: 1.5rem;
      box-shadow: 0 1px 3px rgba(15, 23, 42, 0.1);
      border: 1px solid var(--border);
    }
    .chart-title {
      font-size: 1.5rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 0.25rem;
    }
    .chart-subtitle {
      color: var(--secondary);
      margin-bottom: 1.5rem;
    }
    .chart-canvas {
      position: relative;
      height: 420px;
    }
    .legend-container {
      display: flex;
      gap: 1.5rem;
      justify-content: center;
      flex-wrap: wrap;
      margin-top: 1.25rem;
      padding-top: 1.25rem;
      border-top: 2px solid var(--border);
    }
    .legend-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .legend-color {
      width: 14px;
      height: 14px;
      border-radius: 50%;
    }
    .legend-text {
      font-size: 0.9rem;
      color: var(--secondary);
    }
    .filter-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      flex-wrap: wrap;
      margin-bottom: 1rem;
    }
    .filter-label {
      font-weight: 600;
      color: var(--text);
    }
    .badge.bg-primary {
      background-color: var(--accent) !important;
    }
    .badge.bg-success {
      background-color: var(--success) !important;
    }
    .badge.bg-warning {
      background-color: var(--warning) !important;
      color: var(--background) !important;
    }
    .badge.bg-danger {
      background-color: #DC2626 !important;
    }
    .badge.bg-secondary {
      background-color: var(--secondary) !important;
    }
    .theme-toggle {
      border: 1px solid var(--border);
      color: var(--light);
    }
    [data-theme="dark"] .theme-toggle {
      color: var(--text);
      background-color: rgba(148, 163, 184, 0.15);
    }
    [data-theme="dark"] .table#modelsTable>tbody>tr>td.top-performer {
      background-color: rgba(96, 165, 250, 0.25);
    }
    [data-theme="dark"] .chart-card {
      box-shadow: 0 10px 28px rgba(2, 6, 23, 0.6);
    }
    [data-theme="dark"] .accordion-button:not(.collapsed) {
      background-color: var(--accent);
      color: #0B1220;
    }
    [data-theme="dark"] .badge.bg-warning {
      color: #0B1220 !important;
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-dark bg-dark">
    <div class="container-fluid">
      <span class="navbar-brand mb-0 h1">agon: LLM Metrics Report</span>
      <div class="d-flex align-items-center gap-3">
        <button class="btn btn-sm theme-toggle" id="themeToggle" type="button" aria-label="Toggle dark mode">
          <i class="fa-duotone fa-regular fa-moon" aria-hidden="true"></i>
        </button>
        <span class="text-light">Generated: <span id="generatedAt">-</span></span>
      </div>
    </div>
  </nav>
  <main class="container-fluid my-4">
    <div id="summaryRows"></div>

    <section class="mt-4">
      <div class="card shadow-sm">
        <div class="card-body">
          <div class="filter-row mb-0">
            <span class="filter-label">GPU filter:</span>
            <select class="form-select form-select-sm w-auto" id="gpuFilter"></select>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="card shadow-sm">
        <div class="card-header bg-white">
          <h5 class="mb-0">Model Comparison</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-hover table-bordered table-sm" id="modelsTable">
              <thead class="table-light">
                <tr>
                  <th class="sortable" data-type="text">Model <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="text">GPU <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Accuracy (%) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Questions <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Deadline Rate (%) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Avg TTFT (ms) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Avg TPS <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Eff TPS <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Avg Total (ms) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Avg Output Tokens <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Efficiency (acc/sec) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="number">Stability (CV) <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                  <th class="sortable" data-type="text">Pareto <i class="fa-duotone fa-regular fa-arrows-up-down sort-icon" aria-hidden="true"></i></th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="card shadow-sm chart-card">
        <div class="card-body">
          <div class="chart-title">Accuracy vs Throughput</div>
          <div class="chart-subtitle">Higher accuracy and higher tokens/sec is better.</div>
          <div class="chart-canvas">
            <canvas id="accuracyThroughputChart" aria-label="Accuracy vs throughput chart" role="img"></canvas>
          </div>
          <div id="accuracyThroughputEmpty" class="text-muted small mt-2"></div>
          <div class="legend-container">
            <div class="legend-item">
              <div class="legend-color" style="background: #334155;"></div>
              <span class="legend-text"><strong>Excellent</strong> (70%+ accuracy)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #64748B;"></div>
              <span class="legend-text"><strong>Good</strong> (50-70% accuracy)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #94A3B8;"></div>
              <span class="legend-text"><strong>Fair</strong> (35-50% accuracy)</span>
            </div>
            <div class="legend-item">
              <div class="legend-color" style="background: #CBD5E1;"></div>
              <span class="legend-text"><strong>Poor</strong> (&lt;35% accuracy)</span>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="mt-4">
      <div class="row g-3">
        <div class="col-xl-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <div class="chart-title">Efficiency Leaderboard</div>
              <div class="chart-subtitle">Accuracy per second (higher is better).</div>
              <div class="chart-canvas">
                <canvas id="efficiencyChart" aria-label="Efficiency chart" role="img"></canvas>
              </div>
              <div id="efficiencyEmpty" class="text-muted small mt-2"></div>
            </div>
          </div>
        </div>
        <div class="col-xl-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <div class="chart-title">Latency Percentiles</div>
              <div class="chart-subtitle">TTFT percentiles by model and GPU.</div>
              <div class="chart-canvas">
                <canvas id="latencyPercentileChart" aria-label="Latency percentile chart" role="img"></canvas>
              </div>
              <div id="latencyPercentileEmpty" class="text-muted small mt-2"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="row g-3">
        <div class="col-xl-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <div class="chart-title">Confidence-Adjusted Throughput</div>
              <div class="chart-subtitle">Effective tokens/sec weighted by average logprob.</div>
              <div class="chart-canvas">
                <canvas id="effectiveTpsChart" aria-label="Effective tokens per second chart" role="img"></canvas>
              </div>
              <div id="effectiveTpsEmpty" class="text-muted small mt-2"></div>
            </div>
          </div>
        </div>
        <div class="col-xl-6">
          <div class="card shadow-sm chart-card">
            <div class="card-body">
              <div class="chart-title">Average Logprob</div>
              <div class="chart-subtitle">Higher is better (less uncertainty).</div>
              <div class="chart-canvas">
                <canvas id="avgLogprobChart" aria-label="Average logprob chart" role="img"></canvas>
              </div>
              <div id="avgLogprobEmpty" class="text-muted small mt-2"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="card shadow-sm chart-card">
        <div class="card-body">
          <div class="chart-title">Correlation Snapshot</div>
          <div class="chart-subtitle">How accuracy moves with throughput and latency.</div>
          <div class="chart-canvas">
            <canvas id="correlationChart" aria-label="Correlation chart" role="img"></canvas>
          </div>
          <div id="correlationEmpty" class="text-muted small mt-2"></div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="card shadow-sm chart-card">
        <div class="card-body">
          <div class="chart-title">Input Tokens vs Processing</div>
          <div class="chart-subtitle">Accuracy records reveal how input length affects TTFT and throughput.</div>
          <div class="filter-row">
            <span class="filter-label">Model filter:</span>
            <select class="form-select form-select-sm w-auto" id="inputTokenModelFilter"></select>
          </div>
          <div class="row g-3">
            <div class="col-lg-6">
              <div class="chart-canvas">
                <canvas id="inputTokensTtftChart" aria-label="Input tokens vs time to first token" role="img"></canvas>
              </div>
              <div id="inputTokensTtftEmpty" class="text-muted small mt-2"></div>
            </div>
            <div class="col-lg-6">
              <div class="chart-canvas">
                <canvas id="inputTokensTpsChart" aria-label="Input tokens vs tokens per second" role="img"></canvas>
              </div>
              <div id="inputTokensTpsEmpty" class="text-muted small mt-2"></div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="mt-4">
      <div class="card shadow-sm">
        <div class="card-header bg-white">
          <h5 class="mb-0">Per-Model Details</h5>
        </div>
        <div class="card-body">
          <div class="accordion" id="modelAccordion"></div>
        </div>
      </div>
    </section>
  </main>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
  <script>
    var metrics = {"models":[{"gpu":"pentium-n3710-1-60ghz","model":"DeepSeek-R1-Distill-Qwen-1.5B-Q4_K_M","accuracy":[{"input_tokens":95,"output_tokens":274,"total_tokens":369,"tokens_per_second":2.2032490847872164,"time_to_first_token":27079,"total_duration_ms":151441,"prompt_n":95,"prompt_ms":27079.525,"prompt_per_token_ms":285.0476315789474,"prompt_per_second":3.5081856125615203,"predicted_n":274,"predicted_ms":124361.79,"predicted_per_token_ms":453.87514598540145,"predicted_per_second":2.2032490847872164},{"input_tokens":94,"output_tokens":285,"total_tokens":379,"tokens_per_second":2.198373139082923,"time_to_first_token":5342,"total_duration_ms":134983,"cache_n":76,"prompt_n":18,"prompt_ms":5342.476,"prompt_per_token_ms":296.8042222222222,"prompt_per_second":3.369224307231329,"predicted_n":285,"predicted_ms":129641.322,"predicted_per_token_ms":454.88183157894736,"predicted_per_second":2.1983731390829226},{"input_tokens":100,"output_tokens":252,"total_tokens":352,"tokens_per_second":2.177019822793524,"time_to_first_token":7098,"total_duration_ms":122853,"cache_n":76,"prompt_n":24,"prompt_ms":7098.926,"prompt_per_token_ms":295.78858333333335,"prompt_per_second":3.380793094617411,"predicted_n":252,"predicted_ms":115754.573,"predicted_per_token_ms":459.34354365079366,"predicted_per_second":2.1770198227935236},{"input_tokens":110,"output_tokens":512,"total_tokens":622,"tokens_per_second":1.8966309111609376,"time_to_first_token":10278,"total_duration_ms":280230,"cache_n":76,"prompt_n":34,"prompt_ms":10278.596,"prompt_per_token_ms":302.3116470588235,"prompt_per_second":3.307844767904099,"predicted_n":512,"predicted_ms":269952.365,"predicted_per_token_ms":527.250712890625,"predicted_per_second":1.8966309111609376}],"aggregates":{"accuracy":{"total":4,"correct":3,"accuracy":0.75,"error_rate":0.25,"avg_difficulty":3.25,"avg_margin_of_error":0,"median_margin_of_error":0,"margin_p90":0,"margin_p95":0,"margin_p99":0,"by_difficulty":{"2":{"total":2,"correct":2,"accuracy":1},"4":{"total":1,"correct":1,"accuracy":1},"5":{"total":1,"correct":0,"accuracy":0}},"by_margin_bucket":{"0":{"total":4,"correct":3,"accuracy":0.75}},"by_prompt_length_bucket":{"0-256":{"total":4,"correct":3,"accuracy":0.75}}},"latency":{"avg_ttft_ms":12449.25,"min_ttft_ms":5342,"max_ttft_ms":27079,"median_ttft_ms":8688,"p90_ttft_ms":22038.700000000004,"p95_ttft_ms":24558.849999999995,"p99_ttft_ms":26574.969999999994,"avg_total_ms":172376.75,"median_total_ms":143212,"p90_total_ms":241593.30000000002,"p95_total_ms":260911.64999999997,"p99_total_ms":276366.32999999996,"sample_count":4},"throughput":{"avg_tokens_per_second":2.11881823945615,"min_tokens_per_second":1.8966309111609376,"max_tokens_per_second":2.2032490847872164,"median_tokens_per_second":2.1876964809382233,"p90_tokens_per_second":2.2017863010759284,"p95_tokens_per_second":2.2025176929315724,"p99_tokens_per_second":2.2031028064160876,"sample_count":4,"avg_logprob":-1.014762704305252,"avg_effective_tps":0.7804541908468718,"median_effective_tps":0.7360385586217699,"p90_effective_tps":0.9534280664710632,"p95_effective_tps":0.981368564934952,"p99_effective_tps":1.0037209637060631,"effective_sample_count":4},"token_usage":{"avg_input_tokens":99.75,"avg_output_tokens":330.75,"median_input_tokens":97.5,"median_output_tokens":279.5,"p90_input_tokens":107,"p90_output_tokens":443.90000000000003,"input_token_rate_per_second":0.5786743281794093,"output_token_rate_per_second":1.9187622460685676,"sample_count":4},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":4,"timeout_rate":1},"distributions":{"ttft_ms":{"count":4,"mean":12449.25,"stddev":9964.817957025942,"min":5342,"max":27079,"p50":8688,"p90":22038.700000000004,"p95":24558.849999999995,"p99":26574.969999999994},"total_ms":{"count":4,"mean":172376.75,"stddev":72850.35693518141,"min":122853,"max":280230,"p50":143212,"p90":241593.30000000002,"p95":260911.64999999997,"p99":276366.32999999996},"tokens_per_second":{"count":4,"mean":2.11881823945615,"stddev":0.14856220117724672,"min":1.8966309111609376,"max":2.2032490847872164,"p50":2.1876964809382233,"p90":2.2017863010759284,"p95":2.2025176929315724,"p99":2.2031028064160876},"effective_tps":{"count":4,"mean":0.7804541908468718,"stddev":0.17422671007938179,"min":0.6404305827451064,"max":1.0093090633988409,"p50":0.7360385586217699,"p90":0.9534280664710632,"p95":0.981368564934952,"p99":1.0037209637060631},"input_tokens":{"count":4,"mean":99.75,"stddev":7.32006375199925,"min":94,"max":110,"p50":97.5,"p90":107,"p95":108.5,"p99":109.7},"output_tokens":{"count":4,"mean":330.75,"stddev":121.60968985515368,"min":252,"max":512,"p50":279.5,"p90":443.90000000000003,"p95":477.94999999999993,"p99":505.18999999999994},"margin_of_error":{"count":4,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"logprob":{"count":4,"mean":-1.014762704305252,"stddev":0.24747288131325712,"min":-1.2333321478853039,"max":-0.768690886657828,"p50":-1.028513891338938,"p90":-0.7885328336246836,"p95":-0.7786118601412558,"p99":-0.7706750813545136}},"stability":{"tokens_per_second_stddev":0.14856220117724672,"ttft_stddev_ms":9964.817957025942,"total_stddev_ms":72850.35693518141,"tokens_per_second_cv":0.0701155948210919,"ttft_cv":0.8004352034882376,"total_cv":0.42262287074783234},"efficiency":{"accuracy_per_second":0.004350934798341424,"accuracy_per_token":0.0022675736961451248,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":0.14526105807877848,"accuracy_vs_throughput":0.997056346475486,"accuracy_vs_total_ms":-0.9869844114921992,"margin_vs_difficulty":0,"ttft_vs_input_tokens":-0.23862320105693016,"total_ms_vs_output_tokens":0.9913212501474707},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"DeepSeek-R1-Distill-Qwen-1.5B-Q4_K_M","model_path":"/home/matt/projects/gollama/models/DeepSeek-R1-Distill-Qwen-1.5B-Q4_K_M.gguf","backend":"llama.cpp","context_size":131072,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0.8571428571428571,"relative_latency":0.06840829752272276,"relative_throughput":0.5739695221486742,"relative_efficiency":0.06413277892755258,"pareto_front":false}}},{"gpu":"pentium-n3710-1-60ghz","model":"Falcon3-3B-Instruct-q5_k_m","accuracy":[{"input_tokens":107,"output_tokens":2,"total_tokens":109,"tokens_per_second":2.6305198170210415,"time_to_first_token":58282,"total_duration_ms":59042,"prompt_n":107,"prompt_ms":58282.289,"prompt_per_token_ms":544.6942897196261,"prompt_per_second":1.8358922038906194,"predicted_n":2,"predicted_ms":760.306,"predicted_per_token_ms":380.153,"predicted_per_second":2.6305198170210415},{"input_tokens":107,"output_tokens":2,"total_tokens":109,"tokens_per_second":2.291866966290075,"time_to_first_token":11835,"total_duration_ms":12708,"cache_n":86,"prompt_n":21,"prompt_ms":11835.612,"prompt_per_token_ms":563.6005714285714,"prompt_per_second":1.7743062209203886,"predicted_n":2,"predicted_ms":872.651,"predicted_per_token_ms":436.3255,"predicted_per_second":2.291866966290075},{"input_tokens":113,"output_tokens":3,"total_tokens":116,"tokens_per_second":1.9855820270409799,"time_to_first_token":15196,"total_duration_ms":16707,"cache_n":86,"prompt_n":27,"prompt_ms":15196.627,"prompt_per_token_ms":562.838037037037,"prompt_per_second":1.7767100554616495,"predicted_n":3,"predicted_ms":1510.892,"predicted_per_token_ms":503.6306666666667,"predicted_per_second":1.9855820270409796},{"input_tokens":123,"output_tokens":3,"total_tokens":126,"tokens_per_second":1.9767624979161629,"time_to_first_token":20828,"total_duration_ms":22346,"cache_n":86,"prompt_n":37,"prompt_ms":20828.543,"prompt_per_token_ms":562.9335945945946,"prompt_per_second":1.7764084602557173,"predicted_n":3,"predicted_ms":1517.633,"predicted_per_token_ms":505.8776666666667,"predicted_per_second":1.9767624979161629},{"input_tokens":114,"output_tokens":4,"total_tokens":118,"tokens_per_second":1.7648823705900003,"time_to_first_token":15753,"total_duration_ms":18020,"cache_n":86,"prompt_n":28,"prompt_ms":15753.862,"prompt_per_token_ms":562.6379285714286,"prompt_per_second":1.7773419622439246,"predicted_n":4,"predicted_ms":2266.44,"predicted_per_token_ms":566.61,"predicted_per_second":1.76488237059},{"input_tokens":120,"output_tokens":3,"total_tokens":123,"tokens_per_second":1.9767872462958302,"time_to_first_token":19136,"total_duration_ms":20653,"cache_n":86,"prompt_n":34,"prompt_ms":19136.309,"prompt_per_token_ms":562.8326176470589,"prompt_per_second":1.7767271630072445,"predicted_n":3,"predicted_ms":1517.614,"predicted_per_token_ms":505.8713333333333,"predicted_per_second":1.97678724629583},{"input_tokens":119,"output_tokens":3,"total_tokens":122,"tokens_per_second":1.9792939462634889,"time_to_first_token":18572,"total_duration_ms":20088,"cache_n":86,"prompt_n":33,"prompt_ms":18572.827,"prompt_per_token_ms":562.8129393939395,"prompt_per_second":1.7767892846899396,"predicted_n":3,"predicted_ms":1515.692,"predicted_per_token_ms":505.23066666666665,"predicted_per_second":1.9792939462634886},{"input_tokens":108,"output_tokens":2,"total_tokens":110,"tokens_per_second":2.653487677866596,"time_to_first_token":12400,"total_duration_ms":13154,"cache_n":86,"prompt_n":22,"prompt_ms":12400.563,"prompt_per_token_ms":563.6619545454546,"prompt_per_second":1.7741129979340453,"predicted_n":2,"predicted_ms":753.725,"predicted_per_token_ms":376.8625,"predicted_per_second":2.653487677866596},{"input_tokens":121,"output_tokens":2,"total_tokens":123,"tokens_per_second":2.6247270283890476,"time_to_first_token":19707,"total_duration_ms":20469,"cache_n":86,"prompt_n":35,"prompt_ms":19707.622,"prompt_per_token_ms":563.0749142857143,"prompt_per_second":1.7759626199447098,"predicted_n":2,"predicted_ms":761.984,"predicted_per_token_ms":380.992,"predicted_per_second":2.6247270283890476},{"input_tokens":112,"output_tokens":4,"total_tokens":116,"tokens_per_second":1.75884788428188,"time_to_first_token":14633,"total_duration_ms":16907,"cache_n":86,"prompt_n":26,"prompt_ms":14633.749,"prompt_per_token_ms":562.8365,"prompt_per_second":1.776714907437595,"predicted_n":4,"predicted_ms":2274.216,"predicted_per_token_ms":568.554,"predicted_per_second":1.75884788428188},{"input_tokens":108,"output_tokens":4,"total_tokens":112,"tokens_per_second":1.7602689690984783,"time_to_first_token":12419,"total_duration_ms":14692,"cache_n":86,"prompt_n":22,"prompt_ms":12419.895,"prompt_per_token_ms":564.5406818181818,"prompt_per_second":1.7713515291393365,"predicted_n":4,"predicted_ms":2272.38,"predicted_per_token_ms":568.095,"predicted_per_second":1.760268969098478},{"input_tokens":120,"output_tokens":2,"total_tokens":122,"tokens_per_second":2.560767000932119,"time_to_first_token":19287,"total_duration_ms":20068,"cache_n":86,"prompt_n":34,"prompt_ms":19287.868,"prompt_per_token_ms":567.2902352941176,"prompt_per_second":1.7627661076900776,"predicted_n":2,"predicted_ms":781.016,"predicted_per_token_ms":390.508,"predicted_per_second":2.5607670009321195},{"input_tokens":108,"output_tokens":4,"total_tokens":112,"tokens_per_second":1.6242678612615362,"time_to_first_token":12912,"total_duration_ms":15375,"cache_n":86,"prompt_n":22,"prompt_ms":12912.935,"prompt_per_token_ms":586.9515909090909,"prompt_per_second":1.7037180160823238,"predicted_n":4,"predicted_ms":2462.648,"predicted_per_token_ms":615.662,"predicted_per_second":1.6242678612615362},{"input_tokens":121,"output_tokens":3,"total_tokens":124,"tokens_per_second":1.7009444777703566,"time_to_first_token":22083,"total_duration_ms":23847,"cache_n":86,"prompt_n":35,"prompt_ms":22083.912,"prompt_per_token_ms":630.9689142857143,"prompt_per_second":1.584864130956508,"predicted_n":3,"predicted_ms":1763.726,"predicted_per_token_ms":587.9086666666667,"predicted_per_second":1.7009444777703566},{"input_tokens":109,"output_tokens":3,"total_tokens":112,"tokens_per_second":1.6714004441468113,"time_to_first_token":15141,"total_duration_ms":16936,"cache_n":86,"prompt_n":23,"prompt_ms":15141.317,"prompt_per_token_ms":658.3181304347826,"prompt_per_second":1.5190224205727942,"predicted_n":3,"predicted_ms":1794.902,"predicted_per_token_ms":598.3006666666666,"predicted_per_second":1.6714004441468115},{"input_tokens":120,"output_tokens":5,"total_tokens":125,"tokens_per_second":1.2803667789889763,"time_to_first_token":23309,"total_duration_ms":27214,"cache_n":86,"prompt_n":34,"prompt_ms":23309.064,"prompt_per_token_ms":685.5607058823529,"prompt_per_second":1.4586600302783503,"predicted_n":5,"predicted_ms":3905.131,"predicted_per_token_ms":781.0262,"predicted_per_second":1.2803667789889763},{"input_tokens":109,"output_tokens":4,"total_tokens":113,"tokens_per_second":1.3205085542544146,"time_to_first_token":16605,"total_duration_ms":19634,"cache_n":86,"prompt_n":23,"prompt_ms":16605.351,"prompt_per_token_ms":721.9717826086955,"prompt_per_second":1.3850956839153836,"predicted_n":4,"predicted_ms":3029.136,"predicted_per_token_ms":757.284,"predicted_per_second":1.3205085542544144},{"input_tokens":113,"output_tokens":4,"total_tokens":117,"tokens_per_second":1.2874880303847174,"time_to_first_token":20016,"total_duration_ms":23123,"cache_n":86,"prompt_n":27,"prompt_ms":20016.267,"prompt_per_token_ms":741.3432222222223,"prompt_per_second":1.3489028698508068,"predicted_n":4,"predicted_ms":3106.825,"predicted_per_token_ms":776.70625,"predicted_per_second":1.2874880303847176},{"input_tokens":108,"output_tokens":2,"total_tokens":110,"tokens_per_second":1.943039788597271,"time_to_first_token":16361,"total_duration_ms":17391,"cache_n":86,"prompt_n":22,"prompt_ms":16361.728,"prompt_per_token_ms":743.714909090909,"prompt_per_second":1.3446012548307857,"predicted_n":2,"predicted_ms":1029.315,"predicted_per_token_ms":514.6575,"predicted_per_second":1.943039788597271},{"input_tokens":110,"output_tokens":3,"total_tokens":113,"tokens_per_second":1.4320601999919804,"time_to_first_token":16866,"total_duration_ms":18961,"cache_n":88,"prompt_n":22,"prompt_ms":16866.664,"prompt_per_token_ms":766.6665454545455,"prompt_per_second":1.3043480323079892,"predicted_n":3,"predicted_ms":2094.884,"predicted_per_token_ms":698.2946666666667,"predicted_per_second":1.4320601999919806},{"input_tokens":127,"output_tokens":4,"total_tokens":131,"tokens_per_second":1.2677207553460577,"time_to_first_token":30591,"total_duration_ms":33747,"cache_n":86,"prompt_n":41,"prompt_ms":30591.922,"prompt_per_token_ms":746.1444390243902,"prompt_per_second":1.3402230824202546,"predicted_n":4,"predicted_ms":3155.269,"predicted_per_token_ms":788.81725,"predicted_per_second":1.2677207553460577},{"input_tokens":155,"output_tokens":2,"total_tokens":157,"tokens_per_second":1.7863267405967762,"time_to_first_token":55200,"total_duration_ms":56320,"cache_n":86,"prompt_n":69,"prompt_ms":55200.779,"prompt_per_token_ms":800.0112898550725,"prompt_per_second":1.2499823598503925,"predicted_n":2,"predicted_ms":1119.616,"predicted_per_token_ms":559.808,"predicted_per_second":1.786326740596776},{"input_tokens":124,"output_tokens":3,"total_tokens":127,"tokens_per_second":1.3430095680478327,"time_to_first_token":31377,"total_duration_ms":33610,"cache_n":86,"prompt_n":38,"prompt_ms":31377.027,"prompt_per_token_ms":825.7112368421052,"prompt_per_second":1.2110771361480488,"predicted_n":3,"predicted_ms":2233.789,"predicted_per_token_ms":744.5963333333334,"predicted_per_second":1.3430095680478324},{"input_tokens":123,"output_tokens":2,"total_tokens":125,"tokens_per_second":1.7565924916210538,"time_to_first_token":30731,"total_duration_ms":31869,"cache_n":86,"prompt_n":37,"prompt_ms":30731.271,"prompt_per_token_ms":830.5748918918919,"prompt_per_second":1.2039853476935594,"predicted_n":2,"predicted_ms":1138.568,"predicted_per_token_ms":569.284,"predicted_per_second":1.7565924916210538}],"aggregates":{"accuracy":{"total":24,"correct":19,"accuracy":0.7916666666666666,"error_rate":0.20833333333333337,"avg_difficulty":4.708333333333333,"avg_margin_of_error":25,"median_margin_of_error":0,"margin_p90":0,"margin_p95":84.99999999999979,"margin_p99":407.99999999999983,"by_difficulty":{"1":{"total":1,"correct":0,"accuracy":0},"2":{"total":2,"correct":2,"accuracy":1},"3":{"total":4,"correct":3,"accuracy":0.75},"4":{"total":6,"correct":6,"accuracy":1},"5":{"total":3,"correct":3,"accuracy":1},"6":{"total":2,"correct":2,"accuracy":1},"7":{"total":3,"correct":2,"accuracy":0.6666666666666666},"8":{"total":3,"correct":1,"accuracy":0.3333333333333333}},"by_margin_bucket":{"0":{"total":22,"correct":18,"accuracy":0.8181818181818182},"5+":{"total":2,"correct":1,"accuracy":0.5}},"by_prompt_length_bucket":{"0-256":{"total":24,"correct":19,"accuracy":0.7916666666666666}}},"latency":{"avg_ttft_ms":22051.666666666668,"min_ttft_ms":11835,"max_ttft_ms":58282,"median_ttft_ms":18854,"p90_ttft_ms":31183.2,"p95_ttft_ms":51626.549999999945,"p99_ttft_ms":57573.14,"avg_total_ms":23870.041666666668,"median_total_ms":20078,"p90_total_ms":33705.9,"p95_total_ms":52934.04999999995,"p99_total_ms":58415.94,"sample_count":24},"throughput":{"avg_tokens_per_second":1.8490632967913951,"min_tokens_per_second":1.2677207553460577,"max_tokens_per_second":2.653487677866596,"median_tokens_per_second":1.7625756698442392,"p90_tokens_per_second":2.605539020151969,"p95_tokens_per_second":2.6296508987262426,"p99_tokens_per_second":2.6482050698721182,"sample_count":24,"avg_logprob":-0.09466067695881962,"avg_effective_tps":1.7306306951079735,"median_effective_tps":1.7289443224997676,"p90_effective_tps":2.603908143617525,"p95_effective_tps":2.6252426836177185,"p99_effective_tps":2.6470810244724507,"effective_sample_count":24},"token_usage":{"avg_input_tokens":116.625,"avg_output_tokens":3.0416666666666665,"median_input_tokens":113.5,"median_output_tokens":3,"p90_input_tokens":123.7,"p90_output_tokens":4,"input_token_rate_per_second":4.885831437942609,"output_token_rate_per_second":0.1274261146730298,"sample_count":24},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":24,"timeout_rate":1},"distributions":{"ttft_ms":{"count":24,"mean":22051.666666666668,"stddev":12050.43777543829,"min":11835,"max":58282,"p50":18854,"p90":31183.2,"p95":51626.549999999945,"p99":57573.14},"total_ms":{"count":24,"mean":23870.041666666668,"stddev":11929.420524135556,"min":12708,"max":59042,"p50":20078,"p90":33705.9,"p95":52934.04999999995,"p99":58415.94},"tokens_per_second":{"count":24,"mean":1.8490632967913951,"stddev":0.4405924972128044,"min":1.2677207553460577,"max":2.653487677866596,"p50":1.7625756698442392,"p90":2.605539020151969,"p95":2.6296508987262426,"p99":2.6482050698721182},"effective_tps":{"count":24,"mean":1.7306306951079735,"stddev":0.549427268086518,"min":0.6098376538779471,"max":2.6534544640265807,"p50":1.7289443224997676,"p90":2.603908143617525,"p95":2.6252426836177185,"p99":2.6470810244724507},"input_tokens":{"count":24,"mean":116.625,"stddev":10.408242970796293,"min":107,"max":155,"p50":113.5,"p90":123.7,"p95":126.55,"p99":148.56},"output_tokens":{"count":24,"mean":3.0416666666666665,"stddev":0.9078961186825509,"min":2,"max":5,"p50":3,"p90":4,"p95":4,"p99":4.77},"margin_of_error":{"count":24,"mean":25,"stddev":103.209369308428,"min":0,"max":500,"p50":0,"p90":0,"p95":84.99999999999979,"p99":407.99999999999983},"logprob":{"count":24,"mean":-0.09466067695881962,"stddev":0.20434523377241043,"min":-0.7894755403201353,"max":-0.000003010047130658222,"p50":-0.0008584304014291888,"p90":-0.00001865970986330014,"p95":-0.000006133361503657414,"p99":-0.0000034693035743060826}},"stability":{"tokens_per_second_stddev":0.4405924972128044,"ttft_stddev_ms":12050.43777543829,"total_stddev_ms":11929.420524135556,"tokens_per_second_cv":0.23827875334356957,"ttft_cv":0.5464638096336614,"total_cv":0.49976538335056203},"efficiency":{"accuracy_per_second":0.03316570107928173,"accuracy_per_token":0.2602739726027397,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":0.06707533765293691,"accuracy_vs_throughput":0.20143976491137483,"accuracy_vs_total_ms":0.06956446928097355,"margin_vs_difficulty":0.3680008090527241,"ttft_vs_input_tokens":0.5890175543077734,"total_ms_vs_output_tokens":-0.2367070898485901},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"Falcon3-3B-Instruct-q5_k_m","model_path":"/home/matt/projects/gollama/models/Falcon3-3B-Instruct-q5_k_m.gguf","backend":"llama.cpp","context_size":32768,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0.9047619047619048,"relative_latency":0.4940083542655455,"relative_throughput":0.5008952429796061,"relative_efficiency":0.48886243390861267,"pareto_front":false}}},{"gpu":"pentium-n3710-1-60ghz","model":"gemma-2-2b-it-Q4_K_M","accuracy":[{"input_tokens":99,"output_tokens":4,"total_tokens":103,"tokens_per_second":1.8400448970954892,"time_to_first_token":43146,"total_duration_ms":45320,"prompt_n":99,"prompt_ms":43146.635,"prompt_per_token_ms":435.82459595959597,"prompt_per_second":2.2945010659579825,"predicted_n":4,"predicted_ms":2173.86,"predicted_per_token_ms":543.465,"predicted_per_second":1.840044897095489},{"input_tokens":99,"output_tokens":4,"total_tokens":103,"tokens_per_second":1.8334713020488125,"time_to_first_token":9107,"total_duration_ms":11288,"cache_n":79,"prompt_n":20,"prompt_ms":9107.101,"prompt_per_token_ms":455.35505,"prompt_per_second":2.196088524767651,"predicted_n":4,"predicted_ms":2181.654,"predicted_per_token_ms":545.4135,"predicted_per_second":1.8334713020488125},{"input_tokens":105,"output_tokens":5,"total_tokens":110,"tokens_per_second":1.7235952956879437,"time_to_first_token":11795,"total_duration_ms":14696,"cache_n":79,"prompt_n":26,"prompt_ms":11795.455,"prompt_per_token_ms":453.6713461538462,"prompt_per_second":2.2042388360601604,"predicted_n":5,"predicted_ms":2900.913,"predicted_per_token_ms":580.1826,"predicted_per_second":1.723595295687944},{"input_tokens":115,"output_tokens":5,"total_tokens":120,"tokens_per_second":1.7170742428561128,"time_to_first_token":16348,"total_duration_ms":19260,"cache_n":79,"prompt_n":36,"prompt_ms":16348.13,"prompt_per_token_ms":454.1147222222222,"prompt_per_second":2.202086721845251,"predicted_n":5,"predicted_ms":2911.93,"predicted_per_token_ms":582.386,"predicted_per_second":1.7170742428561128},{"input_tokens":105,"output_tokens":6,"total_tokens":111,"tokens_per_second":1.6426601018668285,"time_to_first_token":11792,"total_duration_ms":15444,"cache_n":79,"prompt_n":26,"prompt_ms":11792.338,"prompt_per_token_ms":453.5514615384615,"prompt_per_second":2.204821469669543,"predicted_n":6,"predicted_ms":3652.612,"predicted_per_token_ms":608.7686666666667,"predicted_per_second":1.6426601018668283},{"input_tokens":109,"output_tokens":5,"total_tokens":114,"tokens_per_second":1.712383305358698,"time_to_first_token":13601,"total_duration_ms":16521,"cache_n":79,"prompt_n":30,"prompt_ms":13601.441,"prompt_per_token_ms":453.3813666666667,"prompt_per_second":2.205648651492147,"predicted_n":5,"predicted_ms":2919.907,"predicted_per_token_ms":583.9814,"predicted_per_second":1.7123833053586979},{"input_tokens":111,"output_tokens":6,"total_tokens":117,"tokens_per_second":1.6509232788436934,"time_to_first_token":14496,"total_duration_ms":18131,"cache_n":79,"prompt_n":32,"prompt_ms":14496.872,"prompt_per_token_ms":453.02725,"prompt_per_second":2.207372735304554,"predicted_n":6,"predicted_ms":3634.33,"predicted_per_token_ms":605.7216666666667,"predicted_per_second":1.6509232788436934},{"input_tokens":100,"output_tokens":4,"total_tokens":104,"tokens_per_second":1.8500959737286373,"time_to_first_token":9558,"total_duration_ms":11720,"cache_n":79,"prompt_n":21,"prompt_ms":9558.084,"prompt_per_token_ms":455.1468571428572,"prompt_per_second":2.1970930575625824,"predicted_n":4,"predicted_ms":2162.05,"predicted_per_token_ms":540.5125,"predicted_per_second":1.850095973728637},{"input_tokens":113,"output_tokens":4,"total_tokens":117,"tokens_per_second":1.8383510358878292,"time_to_first_token":15433,"total_duration_ms":17609,"cache_n":79,"prompt_n":34,"prompt_ms":15433.862,"prompt_per_token_ms":453.9371176470588,"prompt_per_second":2.2029482964147276,"predicted_n":4,"predicted_ms":2175.863,"predicted_per_token_ms":543.96575,"predicted_per_second":1.8383510358878294},{"input_tokens":104,"output_tokens":6,"total_tokens":110,"tokens_per_second":1.6520920028008466,"time_to_first_token":11334,"total_duration_ms":14966,"cache_n":79,"prompt_n":25,"prompt_ms":11334.667,"prompt_per_token_ms":453.38667999999996,"prompt_per_second":2.2056228030342666,"predicted_n":6,"predicted_ms":3631.759,"predicted_per_token_ms":605.2931666666667,"predicted_per_second":1.6520920028008468},{"input_tokens":100,"output_tokens":6,"total_tokens":106,"tokens_per_second":1.661636523656996,"time_to_first_token":9547,"total_duration_ms":13158,"cache_n":79,"prompt_n":21,"prompt_ms":9547.129,"prompt_per_token_ms":454.62519047619054,"prompt_per_second":2.1996141457814176,"predicted_n":6,"predicted_ms":3610.898,"predicted_per_token_ms":601.8163333333333,"predicted_per_second":1.661636523656996},{"input_tokens":112,"output_tokens":4,"total_tokens":116,"tokens_per_second":1.8288941500077274,"time_to_first_token":14918,"total_duration_ms":17105,"cache_n":79,"prompt_n":33,"prompt_ms":14918.486,"prompt_per_token_ms":452.07533333333333,"prompt_per_second":2.212020710412571,"predicted_n":4,"predicted_ms":2187.114,"predicted_per_token_ms":546.7785,"predicted_per_second":1.8288941500077271},{"input_tokens":100,"output_tokens":6,"total_tokens":106,"tokens_per_second":1.6497766202456188,"time_to_first_token":9563,"total_duration_ms":13200,"cache_n":79,"prompt_n":21,"prompt_ms":9563.531,"prompt_per_token_ms":455.4062380952381,"prompt_per_second":2.1958416823242373,"predicted_n":6,"predicted_ms":3636.856,"predicted_per_token_ms":606.1426666666667,"predicted_per_second":1.6497766202456186},{"input_tokens":113,"output_tokens":5,"total_tokens":118,"tokens_per_second":1.7162726676712583,"time_to_first_token":15504,"total_duration_ms":18418,"cache_n":79,"prompt_n":34,"prompt_ms":15504.746,"prompt_per_token_ms":456.0219411764706,"prompt_per_second":2.1928769423246277,"predicted_n":5,"predicted_ms":2913.29,"predicted_per_token_ms":582.658,"predicted_per_second":1.7162726676712583},{"input_tokens":101,"output_tokens":5,"total_tokens":106,"tokens_per_second":1.7207125264086356,"time_to_first_token":9991,"total_duration_ms":12897,"cache_n":79,"prompt_n":22,"prompt_ms":9991.29,"prompt_per_token_ms":454.1495454545455,"prompt_per_second":2.201917870465175,"predicted_n":5,"predicted_ms":2905.773,"predicted_per_token_ms":581.1546000000001,"predicted_per_second":1.7207125264086354},{"input_tokens":112,"output_tokens":7,"total_tokens":119,"tokens_per_second":1.597868899422142,"time_to_first_token":14926,"total_duration_ms":19307,"cache_n":79,"prompt_n":33,"prompt_ms":14926.701,"prompt_per_token_ms":452.3242727272727,"prompt_per_second":2.2108033114617895,"predicted_n":7,"predicted_ms":4380.835,"predicted_per_token_ms":625.8335714285714,"predicted_per_second":1.5978688994221422},{"input_tokens":101,"output_tokens":6,"total_tokens":107,"tokens_per_second":1.6530146027310004,"time_to_first_token":9999,"total_duration_ms":13628,"cache_n":79,"prompt_n":22,"prompt_ms":9999.235,"prompt_per_token_ms":454.51068181818187,"prompt_per_second":2.200168312875935,"predicted_n":6,"predicted_ms":3629.732,"predicted_per_token_ms":604.9553333333333,"predicted_per_second":1.6530146027310004},{"input_tokens":105,"output_tokens":12,"total_tokens":117,"tokens_per_second":1.5028064911221708,"time_to_first_token":11794,"total_duration_ms":19779,"cache_n":79,"prompt_n":26,"prompt_ms":11794.069,"prompt_per_token_ms":453.61803846153845,"prompt_per_second":2.204497870921393,"predicted_n":12,"predicted_ms":7985.06,"predicted_per_token_ms":665.4216666666667,"predicted_per_second":1.5028064911221706},{"input_tokens":100,"output_tokens":5,"total_tokens":105,"tokens_per_second":1.7032560123233977,"time_to_first_token":9559,"total_duration_ms":12495,"cache_n":79,"prompt_n":21,"prompt_ms":9559.459,"prompt_per_token_ms":455.2123333333334,"prompt_per_second":2.1967770351857774,"predicted_n":5,"predicted_ms":2935.554,"predicted_per_token_ms":587.1108,"predicted_per_second":1.7032560123233977},{"input_tokens":102,"output_tokens":5,"total_tokens":107,"tokens_per_second":1.6239181051603895,"time_to_first_token":9796,"total_duration_ms":12875,"cache_n":81,"prompt_n":21,"prompt_ms":9796.693,"prompt_per_token_ms":466.50919047619044,"prompt_per_second":2.14358049190681,"predicted_n":5,"predicted_ms":3078.973,"predicted_per_token_ms":615.7946,"predicted_per_second":1.6239181051603895},{"input_tokens":119,"output_tokens":6,"total_tokens":125,"tokens_per_second":1.4203062606389818,"time_to_first_token":19648,"total_duration_ms":23872,"cache_n":79,"prompt_n":40,"prompt_ms":19648.172,"prompt_per_token_ms":491.2043,"prompt_per_second":2.0358127972413924,"predicted_n":6,"predicted_ms":4224.441,"predicted_per_token_ms":704.0735,"predicted_per_second":1.4203062606389816},{"input_tokens":145,"output_tokens":4,"total_tokens":149,"tokens_per_second":1.417004120293731,"time_to_first_token":35953,"total_duration_ms":38775,"cache_n":79,"prompt_n":66,"prompt_ms":35953.063,"prompt_per_token_ms":544.7433787878788,"prompt_per_second":1.8357267640868316,"predicted_n":4,"predicted_ms":2822.857,"predicted_per_token_ms":705.71425,"predicted_per_second":1.417004120293731},{"input_tokens":116,"output_tokens":5,"total_tokens":121,"tokens_per_second":1.3189594886868887,"time_to_first_token":21039,"total_duration_ms":24830,"cache_n":79,"prompt_n":37,"prompt_ms":21039.385,"prompt_per_token_ms":568.632027027027,"prompt_per_second":1.758606537215798,"predicted_n":5,"predicted_ms":3790.867,"predicted_per_token_ms":758.1734,"predicted_per_second":1.3189594886868887},{"input_tokens":114,"output_tokens":5,"total_tokens":119,"tokens_per_second":1.3182521768957323,"time_to_first_token":20422,"total_duration_ms":24215,"cache_n":79,"prompt_n":35,"prompt_ms":20422.415,"prompt_per_token_ms":583.4975714285714,"prompt_per_second":1.7138031912484395,"predicted_n":5,"predicted_ms":3792.901,"predicted_per_token_ms":758.5802,"predicted_per_second":1.3182521768957323},{"input_tokens":199,"output_tokens":5,"total_tokens":204,"tokens_per_second":1.2140805173342772,"time_to_first_token":73950,"total_duration_ms":78068,"cache_n":80,"prompt_n":119,"prompt_ms":73950.647,"prompt_per_token_ms":621.4340084033613,"prompt_per_second":1.6091813233222962,"predicted_n":5,"predicted_ms":4118.343,"predicted_per_token_ms":823.6686,"predicted_per_second":1.2140805173342775}],"aggregates":{"accuracy":{"total":25,"correct":20,"accuracy":0.8,"error_rate":0.19999999999999996,"avg_difficulty":4.8,"avg_margin_of_error":24,"median_margin_of_error":0,"margin_p90":0,"margin_p95":79.99999999999972,"margin_p99":403.9999999999992,"by_difficulty":{"1":{"total":1,"correct":1,"accuracy":1},"2":{"total":2,"correct":2,"accuracy":1},"3":{"total":4,"correct":4,"accuracy":1},"4":{"total":6,"correct":6,"accuracy":1},"5":{"total":3,"correct":3,"accuracy":1},"6":{"total":2,"correct":1,"accuracy":0.5},"7":{"total":4,"correct":1,"accuracy":0.25},"8":{"total":3,"correct":2,"accuracy":0.6666666666666666}},"by_margin_bucket":{"0":{"total":23,"correct":18,"accuracy":0.782608695652174},"5+":{"total":2,"correct":2,"accuracy":1}},"by_prompt_length_bucket":{"0-256":{"total":25,"correct":20,"accuracy":0.8}}},"latency":{"avg_ttft_ms":17728.76,"min_ttft_ms":9107,"max_ttft_ms":73950,"median_ttft_ms":13601,"p90_ttft_ms":29987.400000000023,"p95_ttft_ms":41707.39999999998,"p99_ttft_ms":66557.03999999994,"avg_total_ms":21103.08,"median_total_ms":17105,"p90_total_ms":33197.00000000002,"p95_total_ms":44010.999999999985,"p99_total_ms":70208.47999999994,"sample_count":25},"throughput":{"avg_tokens_per_second":1.6322980239509537,"min_tokens_per_second":1.2140805173342772,"max_tokens_per_second":1.8500959737286373,"median_tokens_per_second":1.6530146027310004,"p90_tokens_per_second":1.8363991423522226,"p95_tokens_per_second":1.8397061248539572,"p99_tokens_per_second":1.8476837153366819,"sample_count":25,"avg_logprob":-0.10303024226013058,"avg_effective_tps":1.5218847191465892,"median_effective_tps":1.625775151709523,"p90_effective_tps":1.7917469764691332,"p95_effective_tps":1.815982686126734,"p99_effective_tps":1.8265702604345697,"effective_sample_count":25},"token_usage":{"avg_input_tokens":111.96,"avg_output_tokens":5.4,"median_input_tokens":105,"median_output_tokens":5,"p90_input_tokens":117.80000000000001,"p90_output_tokens":6,"input_token_rate_per_second":5.305386701846365,"output_token_rate_per_second":0.25588681841702726,"sample_count":25},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":25,"timeout_rate":1},"distributions":{"ttft_ms":{"count":25,"mean":17728.76,"stddev":14269.481905684826,"min":9107,"max":73950,"p50":13601,"p90":29987.400000000023,"p95":41707.39999999998,"p99":66557.03999999994},"total_ms":{"count":25,"mean":21103.08,"stddev":14338.648387371339,"min":11288,"max":78068,"p50":17105,"p90":33197.00000000002,"p95":44010.999999999985,"p99":70208.47999999994},"tokens_per_second":{"count":25,"mean":1.6322980239509537,"stddev":0.1752952108820498,"min":1.2140805173342772,"max":1.8500959737286373,"p50":1.6530146027310004,"p90":1.8363991423522226,"p95":1.8397061248539572,"p99":1.8476837153366819},"effective_tps":{"count":25,"mean":1.5218847191465892,"stddev":0.331041944616768,"min":0.36680347246599954,"max":1.82904565890666,"p50":1.625775151709523,"p90":1.7917469764691332,"p95":1.815982686126734,"p99":1.8265702604345697},"input_tokens":{"count":25,"mean":111.96,"stddev":20.630640642823803,"min":99,"max":199,"p50":105,"p90":117.80000000000001,"p95":139.79999999999993,"p99":186.0399999999999},"output_tokens":{"count":25,"mean":5.4,"stddev":1.6072751268321595,"min":4,"max":12,"p50":5,"p90":6,"p95":6.799999999999997,"p99":10.79999999999999},"margin_of_error":{"count":25,"mean":24,"stddev":101.15993936995679,"min":0,"max":500,"p50":0,"p90":0,"p95":79.99999999999972,"p99":403.9999999999992},"logprob":{"count":25,"mean":-0.10303024226013058,"stddev":0.2653125451140988,"min":-1.279235822505143,"max":-0.00655971203232184,"p50":-0.01920885281106166,"p90":-0.00880804045887695,"p95":-0.007654943223751616,"p99":-0.006820294648554411}},"stability":{"tokens_per_second_stddev":0.1752952108820498,"ttft_stddev_ms":14269.481905684826,"total_stddev_ms":14338.648387371339,"tokens_per_second_cv":0.10739167009327763,"ttft_cv":0.804877605973843,"total_cv":0.6794576141194242},"efficiency":{"accuracy_per_second":0.03790915828400404,"accuracy_per_token":0.14814814814814814,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":-0.552286723766003,"accuracy_vs_throughput":0.7232867640221471,"accuracy_vs_total_ms":-0.5587862891506183,"margin_vs_difficulty":0.34706775427664255,"ttft_vs_input_tokens":0.867736942967641,"total_ms_vs_output_tokens":-0.114592155322936},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"gemma-2-2b-it-Q4_K_M","model_path":"/home/matt/projects/gollama/models/gemma-2-2b-it-Q4_K_M.gguf","backend":"llama.cpp","context_size":8192,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0.9142857142857144,"relative_latency":0.5587809931062195,"relative_throughput":0.4421754067266436,"relative_efficiency":0.5587809931062194,"pareto_front":false}}},{"gpu":"pentium-n3710-1-60ghz","model":"gemma-3-4b-it-Q4_K_M","accuracy":[{"input_tokens":99,"output_tokens":3,"total_tokens":102,"tokens_per_second":1.4776206957524807,"time_to_first_token":68360,"total_duration_ms":70390,"prompt_n":99,"prompt_ms":68360.357,"prompt_per_token_ms":690.5086565656566,"prompt_per_second":1.448207767551594,"predicted_n":3,"predicted_ms":2030.291,"predicted_per_token_ms":676.7636666666666,"predicted_per_second":1.477620695752481},{"input_tokens":99,"output_tokens":3,"total_tokens":102,"tokens_per_second":1.4793971752390336,"time_to_first_token":14302,"total_duration_ms":16330,"cache_n":79,"prompt_n":20,"prompt_ms":14302.595,"prompt_per_token_ms":715.12975,"prompt_per_second":1.3983476425082304,"predicted_n":3,"predicted_ms":2027.853,"predicted_per_token_ms":675.951,"predicted_per_second":1.4793971752390336},{"input_tokens":105,"output_tokens":4,"total_tokens":109,"tokens_per_second":1.3186775510311728,"time_to_first_token":18519,"total_duration_ms":21553,"cache_n":79,"prompt_n":26,"prompt_ms":18519.793,"prompt_per_token_ms":712.2997307692308,"prompt_per_second":1.4039033805615428,"predicted_n":4,"predicted_ms":3033.342,"predicted_per_token_ms":758.3355,"predicted_per_second":1.3186775510311728},{"input_tokens":115,"output_tokens":4,"total_tokens":119,"tokens_per_second":1.3034134769694985,"time_to_first_token":25656,"total_duration_ms":28725,"cache_n":79,"prompt_n":36,"prompt_ms":25656.794,"prompt_per_token_ms":712.6887222222223,"prompt_per_second":1.4031371183788588,"predicted_n":4,"predicted_ms":3068.865,"predicted_per_token_ms":767.21625,"predicted_per_second":1.3034134769694985},{"input_tokens":105,"output_tokens":5,"total_tokens":110,"tokens_per_second":1.23157532524057,"time_to_first_token":18632,"total_duration_ms":22692,"cache_n":79,"prompt_n":26,"prompt_ms":18632.279,"prompt_per_token_ms":716.6261153846153,"prompt_per_second":1.3954277949573426,"predicted_n":5,"predicted_ms":4059.841,"predicted_per_token_ms":811.9682,"predicted_per_second":1.23157532524057},{"input_tokens":109,"output_tokens":4,"total_tokens":113,"tokens_per_second":1.3089035217030929,"time_to_first_token":21346,"total_duration_ms":24402,"cache_n":79,"prompt_n":30,"prompt_ms":21346.269,"prompt_per_token_ms":711.5423,"prompt_per_second":1.4053978238539016,"predicted_n":4,"predicted_ms":3055.993,"predicted_per_token_ms":763.99825,"predicted_per_second":1.3089035217030929},{"input_tokens":111,"output_tokens":5,"total_tokens":116,"tokens_per_second":1.2284429755542305,"time_to_first_token":22775,"total_duration_ms":26845,"cache_n":79,"prompt_n":32,"prompt_ms":22775.656,"prompt_per_token_ms":711.73925,"prompt_per_second":1.4050089270754704,"predicted_n":5,"predicted_ms":4070.193,"predicted_per_token_ms":814.0386000000001,"predicted_per_second":1.2284429755542305},{"input_tokens":100,"output_tokens":3,"total_tokens":103,"tokens_per_second":1.4893260005540294,"time_to_first_token":14991,"total_duration_ms":17005,"cache_n":79,"prompt_n":21,"prompt_ms":14991.013,"prompt_per_token_ms":713.8577619047619,"prompt_per_second":1.4008392895129902,"predicted_n":3,"predicted_ms":2014.334,"predicted_per_token_ms":671.4446666666666,"predicted_per_second":1.4893260005540294},{"input_tokens":113,"output_tokens":3,"total_tokens":116,"tokens_per_second":1.4667452190217296,"time_to_first_token":24239,"total_duration_ms":26284,"cache_n":79,"prompt_n":34,"prompt_ms":24239.28,"prompt_per_token_ms":712.92,"prompt_per_second":1.4026819278460416,"predicted_n":3,"predicted_ms":2045.345,"predicted_per_token_ms":681.7816666666666,"predicted_per_second":1.4667452190217298},{"input_tokens":104,"output_tokens":5,"total_tokens":109,"tokens_per_second":1.233803552317836,"time_to_first_token":17783,"total_duration_ms":21835,"cache_n":79,"prompt_n":25,"prompt_ms":17783.312,"prompt_per_token_ms":711.33248,"prompt_per_second":1.4058123706090293,"predicted_n":5,"predicted_ms":4052.509,"predicted_per_token_ms":810.5018,"predicted_per_second":1.2338035523178357},{"input_tokens":100,"output_tokens":5,"total_tokens":105,"tokens_per_second":1.2412239262295937,"time_to_first_token":14986,"total_duration_ms":19014,"cache_n":79,"prompt_n":21,"prompt_ms":14986.054,"prompt_per_token_ms":713.6216190476191,"prompt_per_second":1.4013028379585446,"predicted_n":5,"predicted_ms":4028.282,"predicted_per_token_ms":805.6564000000001,"predicted_per_second":1.2412239262295937},{"input_tokens":112,"output_tokens":3,"total_tokens":115,"tokens_per_second":1.480215440423302,"time_to_first_token":23464,"total_duration_ms":25491,"cache_n":79,"prompt_n":33,"prompt_ms":23464.285,"prompt_per_token_ms":711.0389393939394,"prompt_per_second":1.4063927368764912,"predicted_n":3,"predicted_ms":2026.732,"predicted_per_token_ms":675.5773333333333,"predicted_per_second":1.480215440423302},{"input_tokens":100,"output_tokens":5,"total_tokens":105,"tokens_per_second":1.2360410790836387,"time_to_first_token":14981,"total_duration_ms":19026,"cache_n":79,"prompt_n":21,"prompt_ms":14981.051,"prompt_per_token_ms":713.3833809523809,"prompt_per_second":1.4017708103390076,"predicted_n":5,"predicted_ms":4045.173,"predicted_per_token_ms":809.0346,"predicted_per_second":1.2360410790836387},{"input_tokens":113,"output_tokens":4,"total_tokens":117,"tokens_per_second":1.302567980208782,"time_to_first_token":24219,"total_duration_ms":27289,"cache_n":79,"prompt_n":34,"prompt_ms":24219.007,"prompt_per_token_ms":712.3237352941177,"prompt_per_second":1.4038560705647427,"predicted_n":4,"predicted_ms":3070.857,"predicted_per_token_ms":767.71425,"predicted_per_second":1.3025679802087822},{"input_tokens":101,"output_tokens":4,"total_tokens":105,"tokens_per_second":1.2722998378135781,"time_to_first_token":15784,"total_duration_ms":18928,"cache_n":79,"prompt_n":22,"prompt_ms":15784.62,"prompt_per_token_ms":717.4827272727273,"prompt_per_second":1.3937617757031844,"predicted_n":4,"predicted_ms":3143.913,"predicted_per_token_ms":785.97825,"predicted_per_second":1.2722998378135781},{"input_tokens":112,"output_tokens":6,"total_tokens":118,"tokens_per_second":1.0969135959332295,"time_to_first_token":24578,"total_duration_ms":30048,"cache_n":79,"prompt_n":33,"prompt_ms":24578.785,"prompt_per_token_ms":744.8116666666666,"prompt_per_second":1.3426212890506994,"predicted_n":6,"predicted_ms":5469.893,"predicted_per_token_ms":911.6488333333333,"predicted_per_second":1.0969135959332292},{"input_tokens":101,"output_tokens":5,"total_tokens":106,"tokens_per_second":1.1460671787906058,"time_to_first_token":17675,"total_duration_ms":22038,"cache_n":79,"prompt_n":22,"prompt_ms":17675.522,"prompt_per_token_ms":803.4328181818182,"prompt_per_second":1.2446591393453614,"predicted_n":5,"predicted_ms":4362.746,"predicted_per_token_ms":872.5492,"predicted_per_second":1.1460671787906058},{"input_tokens":105,"output_tokens":11,"total_tokens":116,"tokens_per_second":0.971633083788514,"time_to_first_token":19573,"total_duration_ms":30895,"cache_n":79,"prompt_n":26,"prompt_ms":19573.895,"prompt_per_token_ms":752.8421153846155,"prompt_per_second":1.3282997584282534,"predicted_n":11,"predicted_ms":11321.146,"predicted_per_token_ms":1029.195090909091,"predicted_per_second":0.971633083788514},{"input_tokens":100,"output_tokens":4,"total_tokens":104,"tokens_per_second":1.16668791010903,"time_to_first_token":16225,"total_duration_ms":19654,"cache_n":79,"prompt_n":21,"prompt_ms":16225.874,"prompt_per_token_ms":772.6606666666667,"prompt_per_second":1.2942292045408463,"predicted_n":4,"predicted_ms":3428.509,"predicted_per_token_ms":857.12725,"predicted_per_second":1.16668791010903},{"input_tokens":102,"output_tokens":4,"total_tokens":106,"tokens_per_second":1.170312335881981,"time_to_first_token":16618,"total_duration_ms":20036,"cache_n":81,"prompt_n":21,"prompt_ms":16618.492,"prompt_per_token_ms":791.3567619047618,"prompt_per_second":1.263652562458736,"predicted_n":4,"predicted_ms":3417.891,"predicted_per_token_ms":854.47275,"predicted_per_second":1.170312335881981},{"input_tokens":119,"output_tokens":5,"total_tokens":124,"tokens_per_second":1.0819192468457186,"time_to_first_token":31623,"total_duration_ms":36245,"cache_n":79,"prompt_n":40,"prompt_ms":31623.742,"prompt_per_token_ms":790.5935499999999,"prompt_per_second":1.2648724493135568,"predicted_n":5,"predicted_ms":4621.417,"predicted_per_token_ms":924.2834,"predicted_per_second":1.0819192468457184},{"input_tokens":145,"output_tokens":3,"total_tokens":148,"tokens_per_second":1.2523309008892802,"time_to_first_token":53720,"total_duration_ms":56116,"cache_n":79,"prompt_n":66,"prompt_ms":53720.497,"prompt_per_token_ms":813.9469242424243,"prompt_per_second":1.2285813364682756,"predicted_n":3,"predicted_ms":2395.533,"predicted_per_token_ms":798.511,"predicted_per_second":1.2523309008892802},{"input_tokens":116,"output_tokens":4,"total_tokens":120,"tokens_per_second":1.1141884376766162,"time_to_first_token":30186,"total_duration_ms":33776,"cache_n":79,"prompt_n":37,"prompt_ms":30186.358,"prompt_per_token_ms":815.8475135135135,"prompt_per_second":1.2257192470850575,"predicted_n":4,"predicted_ms":3590.057,"predicted_per_token_ms":897.51425,"predicted_per_second":1.1141884376766162},{"input_tokens":115,"output_tokens":4,"total_tokens":119,"tokens_per_second":1.1150279565384402,"time_to_first_token":29680,"total_duration_ms":33267,"cache_n":79,"prompt_n":36,"prompt_ms":29680.368,"prompt_per_token_ms":824.4546666666666,"prompt_per_second":1.2129229664537853,"predicted_n":4,"predicted_ms":3587.354,"predicted_per_token_ms":896.8385,"predicted_per_second":1.1150279565384404}],"aggregates":{"accuracy":{"total":24,"correct":21,"accuracy":0.875,"error_rate":0.125,"avg_difficulty":4.708333333333333,"avg_margin_of_error":25,"median_margin_of_error":0,"margin_p90":0,"margin_p95":84.99999999999979,"margin_p99":407.99999999999983,"by_difficulty":{"1":{"total":1,"correct":1,"accuracy":1},"2":{"total":2,"correct":2,"accuracy":1},"3":{"total":4,"correct":4,"accuracy":1},"4":{"total":6,"correct":6,"accuracy":1},"5":{"total":3,"correct":3,"accuracy":1},"6":{"total":2,"correct":1,"accuracy":0.5},"7":{"total":3,"correct":2,"accuracy":0.6666666666666666},"8":{"total":3,"correct":2,"accuracy":0.6666666666666666}},"by_margin_bucket":{"0":{"total":22,"correct":19,"accuracy":0.8636363636363636},"5+":{"total":2,"correct":2,"accuracy":1}},"by_prompt_length_bucket":{"0-256":{"total":24,"correct":21,"accuracy":0.875}}},"latency":{"avg_ttft_ms":24163.125,"min_ttft_ms":14302,"max_ttft_ms":68360,"median_ttft_ms":20459.5,"p90_ttft_ms":31191.899999999998,"p95_ttft_ms":50405.44999999995,"p99_ttft_ms":64992.799999999996,"avg_total_ms":27828.5,"median_total_ms":24946.5,"p90_total_ms":35504.299999999996,"p95_total_ms":53135.34999999996,"p99_total_ms":67106.98,"sample_count":24},"throughput":{"avg_tokens_per_second":1.2577222668164993,"min_tokens_per_second":0.971633083788514,"max_tokens_per_second":1.4893260005540294,"median_tokens_per_second":1.2386325026566163,"p90_tokens_per_second":1.4788642313930678,"p95_tokens_per_second":1.480092700645662,"p99_tokens_per_second":1.4872305717239622,"sample_count":24,"avg_logprob":-0.011627787046830824,"avg_effective_tps":1.2462882061635525,"median_effective_tps":1.2384700357935676,"p90_effective_tps":1.4787867431362067,"p95_effective_tps":1.4800671592443646,"p99_effective_tps":1.4866577970889852,"effective_sample_count":24},"token_usage":{"avg_input_tokens":108.375,"avg_output_tokens":4.416666666666667,"median_input_tokens":105,"median_output_tokens":4,"p90_input_tokens":115.7,"p90_output_tokens":5,"input_token_rate_per_second":3.8943888459672644,"output_token_rate_per_second":0.15871019518359478,"sample_count":24},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":24,"timeout_rate":1},"distributions":{"ttft_ms":{"count":24,"mean":24163.125,"stddev":12629.276726553646,"min":14302,"max":68360,"p50":20459.5,"p90":31191.899999999998,"p95":50405.44999999995,"p99":64992.799999999996},"total_ms":{"count":24,"mean":27828.5,"stddev":12388.56121765067,"min":16330,"max":70390,"p50":24946.5,"p90":35504.299999999996,"p95":53135.34999999996,"p99":67106.98},"tokens_per_second":{"count":24,"mean":1.2577222668164993,"stddev":0.14231492095912074,"min":0.971633083788514,"max":1.4893260005540294,"p50":1.2386325026566163,"p90":1.4788642313930678,"p95":1.480092700645662,"p99":1.4872305717239622},"effective_tps":{"count":24,"mean":1.2462882061635525,"stddev":0.1627126616660743,"min":0.8497955641892477,"max":1.4885855458341537,"p50":1.2384700357935676,"p90":1.4787867431362067,"p95":1.4800671592443646,"p99":1.4866577970889852},"input_tokens":{"count":24,"mean":108.375,"stddev":10.077148061008048,"min":99,"max":145,"p50":105,"p90":115.7,"p95":118.55,"p99":139.01999999999998},"output_tokens":{"count":24,"mean":4.416666666666667,"stddev":1.6396358733271998,"min":3,"max":11,"p50":4,"p90":5,"p95":5.849999999999998,"p99":9.849999999999998},"margin_of_error":{"count":24,"mean":25,"stddev":103.209369308428,"min":0,"max":500,"p50":0,"p90":0,"p95":84.99999999999979,"p99":407.99999999999983},"logprob":{"count":24,"mean":-0.011627787046830824,"stddev":0.05538424702419416,"min":-0.27163894887053175,"max":-0.00000754008755166069,"p50":-0.00008568055822024689,"p90":-0.000008837521832750405,"p95":-0.00000775664078863277,"p99":-0.000007578927414707929}},"stability":{"tokens_per_second_stddev":0.14231492095912074,"ttft_stddev_ms":12629.276726553646,"total_stddev_ms":12388.56121765067,"tokens_per_second_cv":0.1131528992639552,"ttft_cv":0.5226673589013692,"total_cv":0.4451753137125849},"efficiency":{"accuracy_per_second":0.03144258583825934,"accuracy_per_token":0.1981132075471698,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":-0.4187927032797512,"accuracy_vs_throughput":0.2637166566203862,"accuracy_vs_total_ms":-0.41214598416854975,"margin_vs_difficulty":0.3680008090527241,"ttft_vs_input_tokens":0.49958161355932107,"total_ms_vs_output_tokens":-0.09812865770820804},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"gemma-3-4b-it-Q4_K_M","model_path":"/home/matt/projects/gollama/models/gemma-3-4b-it-Q4_K_M.gguf","backend":"llama.cpp","context_size":131072,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":1,"relative_latency":0.4237382539482904,"relative_throughput":0.340706076169,"relative_efficiency":0.4634637152559426,"pareto_front":true}}},{"gpu":"pentium-n3710-1-60ghz","model":"heretic_MiniCPM-3B-OpenHermes-2.5-v2.Q4_K_M","aggregates":{"accuracy":{"total":0,"correct":0,"accuracy":0,"error_rate":0,"avg_difficulty":0,"avg_margin_of_error":0,"median_margin_of_error":0,"margin_p90":0,"margin_p95":0,"margin_p99":0},"latency":{"avg_ttft_ms":0,"min_ttft_ms":0,"max_ttft_ms":0,"median_ttft_ms":0,"p90_ttft_ms":0,"p95_ttft_ms":0,"p99_ttft_ms":0,"avg_total_ms":0,"median_total_ms":0,"p90_total_ms":0,"p95_total_ms":0,"p99_total_ms":0,"sample_count":0},"throughput":{"avg_tokens_per_second":0,"min_tokens_per_second":0,"max_tokens_per_second":0,"median_tokens_per_second":0,"p90_tokens_per_second":0,"p95_tokens_per_second":0,"p99_tokens_per_second":0,"sample_count":0,"avg_logprob":0,"avg_effective_tps":0,"median_effective_tps":0,"p90_effective_tps":0,"p95_effective_tps":0,"p99_effective_tps":0,"effective_sample_count":0},"token_usage":{"avg_input_tokens":0,"avg_output_tokens":0,"median_input_tokens":0,"median_output_tokens":0,"p90_input_tokens":0,"p90_output_tokens":0,"input_token_rate_per_second":0,"output_token_rate_per_second":0,"sample_count":0},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":0,"timeout_rate":0},"distributions":{"ttft_ms":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"total_ms":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"tokens_per_second":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"effective_tps":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"input_tokens":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"output_tokens":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"margin_of_error":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"logprob":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0}},"stability":{"tokens_per_second_stddev":0,"ttft_stddev_ms":0,"total_stddev_ms":0,"tokens_per_second_cv":0,"ttft_cv":0,"total_cv":0},"efficiency":{"accuracy_per_second":0,"accuracy_per_token":0,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":0,"accuracy_vs_throughput":0,"accuracy_vs_total_ms":0,"margin_vs_difficulty":0,"ttft_vs_input_tokens":0,"total_ms_vs_output_tokens":0},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"heretic_MiniCPM-3B-OpenHermes-2.5-v2.Q4_K_M","model_path":"/home/matt/projects/gollama/models/heretic_MiniCPM-3B-OpenHermes-2.5-v2.Q4_K_M.gguf","backend":"llama.cpp","context_size":2048,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0,"relative_latency":0,"relative_throughput":0,"relative_efficiency":0,"pareto_front":true}}},{"gpu":"pentium-n3710-1-60ghz","model":"internlm2_5-1_8b-chat-Q4_K_M","aggregates":{"accuracy":{"total":0,"correct":0,"accuracy":0,"error_rate":0,"avg_difficulty":0,"avg_margin_of_error":0,"median_margin_of_error":0,"margin_p90":0,"margin_p95":0,"margin_p99":0},"latency":{"avg_ttft_ms":0,"min_ttft_ms":0,"max_ttft_ms":0,"median_ttft_ms":0,"p90_ttft_ms":0,"p95_ttft_ms":0,"p99_ttft_ms":0,"avg_total_ms":0,"median_total_ms":0,"p90_total_ms":0,"p95_total_ms":0,"p99_total_ms":0,"sample_count":0},"throughput":{"avg_tokens_per_second":0,"min_tokens_per_second":0,"max_tokens_per_second":0,"median_tokens_per_second":0,"p90_tokens_per_second":0,"p95_tokens_per_second":0,"p99_tokens_per_second":0,"sample_count":0,"avg_logprob":0,"avg_effective_tps":0,"median_effective_tps":0,"p90_effective_tps":0,"p95_effective_tps":0,"p99_effective_tps":0,"effective_sample_count":0},"token_usage":{"avg_input_tokens":0,"avg_output_tokens":0,"median_input_tokens":0,"median_output_tokens":0,"p90_input_tokens":0,"p90_output_tokens":0,"input_token_rate_per_second":0,"output_token_rate_per_second":0,"sample_count":0},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":0,"timeout_rate":0},"distributions":{"ttft_ms":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"total_ms":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"tokens_per_second":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"effective_tps":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"input_tokens":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"output_tokens":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"margin_of_error":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0},"logprob":{"count":0,"mean":0,"stddev":0,"min":0,"max":0,"p50":0,"p90":0,"p95":0,"p99":0}},"stability":{"tokens_per_second_stddev":0,"ttft_stddev_ms":0,"total_stddev_ms":0,"tokens_per_second_cv":0,"ttft_cv":0,"total_cv":0},"efficiency":{"accuracy_per_second":0,"accuracy_per_token":0,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":0,"accuracy_vs_throughput":0,"accuracy_vs_total_ms":0,"margin_vs_difficulty":0,"ttft_vs_input_tokens":0,"total_ms_vs_output_tokens":0},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"internlm2_5-1_8b-chat-Q4_K_M","model_path":"/home/matt/projects/gollama/models/internlm2_5-1_8b-chat-Q4_K_M.gguf","backend":"llama.cpp","context_size":32768,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0,"relative_latency":0,"relative_throughput":0,"relative_efficiency":0,"pareto_front":true}}},{"gpu":"pentium-n3710-1-60ghz","model":"qwen2.5-1.5b-instruct-q4_k_m","accuracy":[{"input_tokens":103,"output_tokens":2,"total_tokens":105,"tokens_per_second":4.625293417051144,"time_to_first_token":29508,"total_duration_ms":29940,"prompt_n":103,"prompt_ms":29508.258,"prompt_per_token_ms":286.48794174757285,"prompt_per_second":3.4905483068502376,"predicted_n":2,"predicted_ms":432.405,"predicted_per_token_ms":216.2025,"predicted_per_second":4.625293417051145},{"input_tokens":102,"output_tokens":2,"total_tokens":104,"tokens_per_second":4.693337338314529,"time_to_first_token":5970,"total_duration_ms":6396,"cache_n":82,"prompt_n":20,"prompt_ms":5970.743,"prompt_per_token_ms":298.53715,"prompt_per_second":3.349666867255884,"predicted_n":2,"predicted_ms":426.136,"predicted_per_token_ms":213.068,"predicted_per_second":4.693337338314528},{"input_tokens":108,"output_tokens":3,"total_tokens":111,"tokens_per_second":3.5183228389581545,"time_to_first_token":7731,"total_duration_ms":8584,"cache_n":82,"prompt_n":26,"prompt_ms":7731.988,"prompt_per_token_ms":297.3841538461539,"prompt_per_second":3.3626539513511915,"predicted_n":3,"predicted_ms":852.679,"predicted_per_token_ms":284.22633333333334,"predicted_per_second":3.518322838958154},{"input_tokens":118,"output_tokens":3,"total_tokens":121,"tokens_per_second":3.460938121887319,"time_to_first_token":10737,"total_duration_ms":11604,"cache_n":82,"prompt_n":36,"prompt_ms":10737.228,"prompt_per_token_ms":298.2563333333333,"prompt_per_second":3.3528206721511364,"predicted_n":3,"predicted_ms":866.817,"predicted_per_token_ms":288.939,"predicted_per_second":3.4609381218873185},{"input_tokens":108,"output_tokens":4,"total_tokens":112,"tokens_per_second":3.125087893096993,"time_to_first_token":7744,"total_duration_ms":9024,"cache_n":82,"prompt_n":26,"prompt_ms":7744.422,"prompt_per_token_ms":297.8623846153846,"prompt_per_second":3.3572550669372103,"predicted_n":4,"predicted_ms":1279.964,"predicted_per_token_ms":319.991,"predicted_per_second":3.1250878930969934},{"input_tokens":112,"output_tokens":3,"total_tokens":115,"tokens_per_second":3.510849695843388,"time_to_first_token":8916,"total_duration_ms":9771,"cache_n":82,"prompt_n":30,"prompt_ms":8916.906,"prompt_per_token_ms":297.2302,"prompt_per_second":3.364395677155282,"predicted_n":3,"predicted_ms":854.494,"predicted_per_token_ms":284.83133333333336,"predicted_per_second":3.510849695843388},{"input_tokens":114,"output_tokens":4,"total_tokens":118,"tokens_per_second":3.1179286352904314,"time_to_first_token":9531,"total_duration_ms":10813,"cache_n":82,"prompt_n":32,"prompt_ms":9531.084,"prompt_per_token_ms":297.846375,"prompt_per_second":3.357435523598365,"predicted_n":4,"predicted_ms":1282.903,"predicted_per_token_ms":320.72575,"predicted_per_second":3.117928635290431},{"input_tokens":103,"output_tokens":2,"total_tokens":105,"tokens_per_second":4.619524419960965,"time_to_first_token":6259,"total_duration_ms":6692,"cache_n":82,"prompt_n":21,"prompt_ms":6259.261,"prompt_per_token_ms":298.0600476190476,"prompt_per_second":3.3550286527435107,"predicted_n":2,"predicted_ms":432.945,"predicted_per_token_ms":216.4725,"predicted_per_second":4.619524419960965},{"input_tokens":116,"output_tokens":2,"total_tokens":118,"tokens_per_second":4.656794262829468,"time_to_first_token":10155,"total_duration_ms":10584,"cache_n":82,"prompt_n":34,"prompt_ms":10155.268,"prompt_per_token_ms":298.6843529411765,"prompt_per_second":3.348016024786347,"predicted_n":2,"predicted_ms":429.48,"predicted_per_token_ms":214.74,"predicted_per_second":4.656794262829468},{"input_tokens":107,"output_tokens":4,"total_tokens":111,"tokens_per_second":3.1215370448408795,"time_to_first_token":7437,"total_duration_ms":8718,"cache_n":82,"prompt_n":25,"prompt_ms":7437.351,"prompt_per_token_ms":297.49404,"prompt_per_second":3.3614118790413414,"predicted_n":4,"predicted_ms":1281.42,"predicted_per_token_ms":320.355,"predicted_per_second":3.1215370448408795},{"input_tokens":104,"output_tokens":4,"total_tokens":108,"tokens_per_second":3.1138630740990427,"time_to_first_token":6557,"total_duration_ms":7841,"cache_n":82,"prompt_n":22,"prompt_ms":6557.277,"prompt_per_token_ms":298.05804545454544,"prompt_per_second":3.3550511896935267,"predicted_n":4,"predicted_ms":1284.578,"predicted_per_token_ms":321.1445,"predicted_per_second":3.1138630740990427},{"input_tokens":115,"output_tokens":2,"total_tokens":117,"tokens_per_second":4.615281659101451,"time_to_first_token":9821,"total_duration_ms":10254,"cache_n":82,"prompt_n":33,"prompt_ms":9821.648,"prompt_per_token_ms":297.62569696969695,"prompt_per_second":3.359924933168039,"predicted_n":2,"predicted_ms":433.343,"predicted_per_token_ms":216.6715,"predicted_per_second":4.61528165910145},{"input_tokens":103,"output_tokens":4,"total_tokens":107,"tokens_per_second":3.1402325813261363,"time_to_first_token":6260,"total_duration_ms":7534,"cache_n":82,"prompt_n":21,"prompt_ms":6260.5,"prompt_per_token_ms":298.1190476190476,"prompt_per_second":3.354364667358837,"predicted_n":4,"predicted_ms":1273.791,"predicted_per_token_ms":318.44775,"predicted_per_second":3.1402325813261363},{"input_tokens":116,"output_tokens":3,"total_tokens":119,"tokens_per_second":3.5059548643370766,"time_to_first_token":10127,"total_duration_ms":10982,"cache_n":82,"prompt_n":34,"prompt_ms":10127.303,"prompt_per_token_ms":297.8618529411765,"prompt_per_second":3.357261059533817,"predicted_n":3,"predicted_ms":855.687,"predicted_per_token_ms":285.229,"predicted_per_second":3.5059548643370766},{"input_tokens":104,"output_tokens":3,"total_tokens":107,"tokens_per_second":3.5286935717789203,"time_to_first_token":6554,"total_duration_ms":7404,"cache_n":82,"prompt_n":22,"prompt_ms":6554.595,"prompt_per_token_ms":297.93613636363636,"prompt_per_second":3.356424004839353,"predicted_n":3,"predicted_ms":850.173,"predicted_per_token_ms":283.391,"predicted_per_second":3.5286935717789203},{"input_tokens":114,"output_tokens":5,"total_tokens":119,"tokens_per_second":2.9170762727933046,"time_to_first_token":9522,"total_duration_ms":11236,"cache_n":82,"prompt_n":32,"prompt_ms":9522.071,"prompt_per_token_ms":297.56471875,"prompt_per_second":3.360613463184637,"predicted_n":5,"predicted_ms":1714.045,"predicted_per_token_ms":342.809,"predicted_per_second":2.9170762727933046},{"input_tokens":104,"output_tokens":4,"total_tokens":108,"tokens_per_second":3.1390250658999075,"time_to_first_token":6555,"total_duration_ms":7830,"cache_n":82,"prompt_n":22,"prompt_ms":6555.774,"prompt_per_token_ms":297.9897272727273,"prompt_per_second":3.3558203806293503,"predicted_n":4,"predicted_ms":1274.281,"predicted_per_token_ms":318.57025,"predicted_per_second":3.1390250658999075},{"input_tokens":108,"output_tokens":10,"total_tokens":118,"tokens_per_second":2.5918150480781694,"time_to_first_token":7740,"total_duration_ms":11598,"cache_n":82,"prompt_n":26,"prompt_ms":7740.492,"prompt_per_token_ms":297.7112307692308,"prompt_per_second":3.35895961135287,"predicted_n":10,"predicted_ms":3858.3,"predicted_per_token_ms":385.83000000000004,"predicted_per_second":2.5918150480781685},{"input_tokens":103,"output_tokens":3,"total_tokens":106,"tokens_per_second":3.5127571630973153,"time_to_first_token":6257,"total_duration_ms":7112,"cache_n":82,"prompt_n":21,"prompt_ms":6257.974,"prompt_per_token_ms":297.9987619047619,"prompt_per_second":3.355718639930431,"predicted_n":3,"predicted_ms":854.03,"predicted_per_token_ms":284.6766666666667,"predicted_per_second":3.512757163097315},{"input_tokens":105,"output_tokens":3,"total_tokens":108,"tokens_per_second":3.5266360946502107,"time_to_first_token":6273,"total_duration_ms":7124,"cache_n":84,"prompt_n":21,"prompt_ms":6273.617,"prompt_per_token_ms":298.7436666666667,"prompt_per_second":3.3473512967081027,"predicted_n":3,"predicted_ms":850.669,"predicted_per_token_ms":283.5563333333333,"predicted_per_second":3.5266360946502107},{"input_tokens":122,"output_tokens":4,"total_tokens":126,"tokens_per_second":3.0951032371684755,"time_to_first_token":11940,"total_duration_ms":13232,"cache_n":82,"prompt_n":40,"prompt_ms":11940.407,"prompt_per_token_ms":298.510175,"prompt_per_second":3.3499695613390736,"predicted_n":4,"predicted_ms":1292.364,"predicted_per_token_ms":323.091,"predicted_per_second":3.0951032371684755},{"input_tokens":148,"output_tokens":2,"total_tokens":150,"tokens_per_second":4.5757585463730255,"time_to_first_token":19893,"total_duration_ms":20330,"cache_n":82,"prompt_n":66,"prompt_ms":19893.057,"prompt_per_token_ms":301.4099545454546,"prompt_per_second":3.3177404558786514,"predicted_n":2,"predicted_ms":437.086,"predicted_per_token_ms":218.543,"predicted_per_second":4.575758546373025},{"input_tokens":119,"output_tokens":3,"total_tokens":122,"tokens_per_second":3.4984647570491147,"time_to_first_token":11016,"total_duration_ms":11874,"cache_n":82,"prompt_n":37,"prompt_ms":11016.72,"prompt_per_token_ms":297.74918918918917,"prompt_per_second":3.3585313959145733,"predicted_n":3,"predicted_ms":857.519,"predicted_per_token_ms":285.8396666666667,"predicted_per_second":3.4984647570491147},{"input_tokens":117,"output_tokens":2,"total_tokens":119,"tokens_per_second":4.653868528214078,"time_to_first_token":10422,"total_duration_ms":10852,"cache_n":82,"prompt_n":35,"prompt_ms":10422.287,"prompt_per_token_ms":297.7796285714286,"prompt_per_second":3.358188082903493,"predicted_n":2,"predicted_ms":429.75,"predicted_per_token_ms":214.875,"predicted_per_second":4.653868528214078},{"input_tokens":203,"output_tokens":2,"total_tokens":205,"tokens_per_second":4.423780474317742,"time_to_first_token":37019,"total_duration_ms":37471,"cache_n":83,"prompt_n":120,"prompt_ms":37019.243,"prompt_per_token_ms":308.4936916666667,"prompt_per_second":3.241557370581565,"predicted_n":2,"predicted_ms":452.102,"predicted_per_token_ms":226.051,"predicted_per_second":4.423780474317743}],"aggregates":{"accuracy":{"total":25,"correct":20,"accuracy":0.8,"error_rate":0.19999999999999996,"avg_difficulty":4.8,"avg_margin_of_error":24,"median_margin_of_error":0,"margin_p90":0,"margin_p95":79.99999999999972,"margin_p99":403.9999999999992,"by_difficulty":{"1":{"total":1,"correct":1,"accuracy":1},"2":{"total":2,"correct":2,"accuracy":1},"3":{"total":4,"correct":4,"accuracy":1},"4":{"total":6,"correct":5,"accuracy":0.8333333333333334},"5":{"total":3,"correct":3,"accuracy":1},"6":{"total":2,"correct":1,"accuracy":0.5},"7":{"total":4,"correct":2,"accuracy":0.5},"8":{"total":3,"correct":2,"accuracy":0.6666666666666666}},"by_margin_bucket":{"0":{"total":23,"correct":18,"accuracy":0.782608695652174},"5+":{"total":2,"correct":2,"accuracy":1}},"by_prompt_length_bucket":{"0-256":{"total":25,"correct":20,"accuracy":0.8}}},"latency":{"avg_ttft_ms":10797.76,"min_ttft_ms":5970,"max_ttft_ms":37019,"median_ttft_ms":8916,"p90_ttft_ms":16711.80000000001,"p95_ttft_ms":27584.99999999997,"p99_ttft_ms":35216.359999999986,"avg_total_ms":11792,"median_total_ms":10254,"p90_total_ms":17490.80000000001,"p95_total_ms":28017.99999999997,"p99_total_ms":35663.55999999998,"sample_count":25},"throughput":{"avg_tokens_per_second":3.69151698425429,"min_tokens_per_second":2.5918150480781694,"max_tokens_per_second":4.693337338314529,"median_tokens_per_second":3.510849695843388,"p90_tokens_per_second":4.642438483748904,"p95_tokens_per_second":4.65620911590639,"p99_tokens_per_second":4.684567000198114,"sample_count":25,"avg_logprob":-0.13141064340376818,"avg_effective_tps":3.347970207304525,"median_effective_tps":3.4606320403615762,"p90_effective_tps":4.61739745667007,"p95_effective_tps":4.637432953486839,"p99_effective_tps":4.679746917922732,"effective_sample_count":25},"token_usage":{"avg_input_tokens":115.04,"avg_output_tokens":3.32,"median_input_tokens":108,"median_output_tokens":3,"p90_input_tokens":120.80000000000001,"p90_output_tokens":4,"input_token_rate_per_second":9.755766621438262,"output_token_rate_per_second":0.28154681139755766,"sample_count":25},"reliability":{"deadline_exceeded_count":0,"deadline_exceeded_rate":0,"timeout_count":25,"timeout_rate":1},"distributions":{"ttft_ms":{"count":25,"mean":10797.76,"stddev":7442.552117609479,"min":5970,"max":37019,"p50":8916,"p90":16711.80000000001,"p95":27584.99999999997,"p99":35216.359999999986},"total_ms":{"count":25,"mean":11792,"stddev":7272.789114225711,"min":6396,"max":37471,"p50":10254,"p90":17490.80000000001,"p95":28017.99999999997,"p99":35663.55999999998},"tokens_per_second":{"count":25,"mean":3.69151698425429,"stddev":0.6807359350061889,"min":2.5918150480781694,"max":4.693337338314529,"p50":3.510849695843388,"p90":4.642438483748904,"p95":4.65620911590639,"p99":4.684567000198114},"effective_tps":{"count":25,"mean":3.347970207304525,"stddev":0.9365430336781452,"min":1.0065228556248675,"max":4.691662598050514,"p50":3.4606320403615762,"p90":4.61739745667007,"p95":4.637432953486839,"p99":4.679746917922732},"input_tokens":{"count":25,"mean":115.04,"stddev":20.759495819182764,"min":102,"max":203,"p50":108,"p90":120.80000000000001,"p95":142.79999999999993,"p99":189.7999999999999},"output_tokens":{"count":25,"mean":3.32,"stddev":1.6512621435334447,"min":2,"max":10,"p50":3,"p90":4,"p95":4.799999999999997,"p99":8.79999999999999},"margin_of_error":{"count":25,"mean":24,"stddev":101.15993936995679,"min":0,"max":500,"p50":0,"p90":0,"p95":79.99999999999972,"p99":403.9999999999992},"logprob":{"count":25,"mean":-0.13141064340376818,"stddev":0.3081283934317972,"min":-1.245822557558616,"max":-0.000046912231937312754,"p50":-0.0005536508091608993,"p90":-0.00007029655390624607,"p95":-0.00005054155391235329,"p99":-0.000047323819092071066}},"stability":{"tokens_per_second_stddev":0.6807359350061889,"ttft_stddev_ms":7442.552117609479,"total_stddev_ms":7272.789114225711,"tokens_per_second_cv":0.184405472847554,"ttft_cv":0.6892681553960709,"total_cv":0.6167562003244328},"efficiency":{"accuracy_per_second":0.067842605156038,"accuracy_per_token":0.24096385542168677,"tokens_per_second_per_param":0,"latency_per_param":0},"correlations":{"accuracy_vs_ttft":-0.4563407752053347,"accuracy_vs_throughput":-0.3306140446937724,"accuracy_vs_total_ms":-0.439779179817405,"margin_vs_difficulty":0.34706775427664255,"ttft_vs_input_tokens":0.7821952813450738,"total_ms_vs_output_tokens":-0.20194450144211545},"benchmark":{"prompt_tokens_per_second":0,"generation_tokens_per_second":0,"avg_benchmark_ns":0,"stddev_benchmark_ns":0,"run_count":0},"metadata":{"model_type":"","model_alias":"","model_path":"","backend":"","context_size":0,"supports_audio":false,"supports_vision":false},"comparisons":{"relative_accuracy":0.9142857142857144,"relative_latency":1,"relative_throughput":1,"relative_efficiency":1,"pareto_front":true}}}]};
  </script>
  <script>
    (function($) {
      function formatNumber(value, decimals) {
        if (value === null || value === undefined || isNaN(value)) {
          return '-';
        }
        return Number(value).toFixed(decimals);
      }

      function formatPercent(value, decimals) {
        if (value === null || value === undefined || isNaN(value)) {
          return '-';
        }
        return (Number(value) * 100).toFixed(decimals) + '%';
      }

      function averageField(records, field) {
        if (!records || !records.length) {
          return null;
        }
        var sum = 0;
        var count = 0;
        records.forEach(function(record) {
          var value = Number(record[field]);
          if (!isNaN(value) && value !== 0) {
            sum += value;
            count += 1;
          }
        });
        if (!count) {
          return null;
        }
        return sum / count;
      }

      function modelLabel(bundle) {
        var name = bundle.model || '-';
        var gpu = bundle.gpu || '-';
        return name + ' @ ' + gpu;
      }

      function getBenchmark(model) {
        return model.aggregates && model.aggregates.benchmark ? model.aggregates.benchmark : null;
      }

      function getBenchmarkPromptTPS(model) {
        var bench = getBenchmark(model);
        if (!bench || typeof bench.prompt_tokens_per_second !== 'number' || isNaN(bench.prompt_tokens_per_second)) {
          return null;
        }
        return bench.prompt_tokens_per_second;
      }

      function getBenchmarkGenTPS(model) {
        var bench = getBenchmark(model);
        if (!bench || typeof bench.generation_tokens_per_second !== 'number' || isNaN(bench.generation_tokens_per_second)) {
          return null;
        }
        return bench.generation_tokens_per_second;
      }

      function getBenchmarkThroughput(model) {
        var gen = getBenchmarkGenTPS(model);
        if (gen && gen > 0) {
          return gen;
        }
        var prompt = getBenchmarkPromptTPS(model);
        if (prompt && prompt > 0) {
          return prompt;
        }
        return null;
      }

      function createNumericCell(value, decimals) {
        var display = formatNumber(value, decimals);
        var $td = $('<td></td>').text(display);
        if (!isNaN(value)) {
          $td.attr('data-value', value);
        }
        return $td;
      }

      function createTextCell(text, dataValue, iconClass) {
        var $td = $('<td></td>');
        if (iconClass) {
          $td.append('<i class="' + iconClass + ' me-2"></i>');
        }
        $td.append(document.createTextNode(text || '-'));
        if (dataValue) {
          $td.attr('data-value', dataValue);
        }
        return $td;
      }

      var sortingAttached = false;
      var chartState = {
        accuracyThroughput: null,
        efficiency: null,
        latencyPercentile: null,
        correlation: null,
        effectiveTps: null,
        avgLogprob: null,
        inputTtft: null,
        inputTps: null
      };
      var allModels = metrics && metrics.models ? metrics.models : [];

      function getGpuOptions(models) {
        var seen = {};
        models.forEach(function(model) {
          if (model.gpu) {
            seen[model.gpu] = true;
          }
        });
        return Object.keys(seen).sort();
      }

      function applyGpuFilter(models) {
        var selected = $('#gpuFilter').val() || 'all';
        if (selected === 'all') {
          return models;
        }
        return models.filter(function(model) {
          return model.gpu === selected;
        });
      }

      function initGpuFilter(models) {
        var $filter = $('#gpuFilter');
        if (!$filter.length) {
          return;
        }
        var options = getGpuOptions(models);
        $filter.empty();
        $filter.append('<option value="all">All</option>');
        options.forEach(function(gpu) {
          $filter.append('<option value="' + gpu + '">' + gpu + '</option>');
        });
        $filter.off('change.metrics').on('change.metrics', function() {
          renderAll(applyGpuFilter(models));
        });
      }
      function updateSortIcons($header, direction) {
        $header.closest('tr').find('.sort-icon').each(function() {
          $(this).removeClass('fa-arrow-up fa-arrow-down').addClass('fa-arrows-up-down');
        });

        var $icon = $header.find('.sort-icon');
        if (direction === 'asc') {
          $icon.removeClass('fa-arrows-up-down fa-arrow-down').addClass('fa-arrow-up');
        } else if (direction === 'desc') {
          $icon.removeClass('fa-arrows-up-down fa-arrow-up').addClass('fa-arrow-down');
        }
      }

      function attachSorting() {
        if (sortingAttached) {
          return;
        }
        $('#modelsTable thead th.sortable').each(function(index) {
          var direction = 'none';
          $(this).on('click', function() {
            var type = $(this).data('type');
            direction = direction === 'asc' ? 'desc' : 'asc';
            sortTable(index, type, direction);
            updateSortIcons($(this), direction);
          });
        });
        sortingAttached = true;
      }

      function sortTable(columnIndex, type, direction) {
        var $tbody = $('#modelsTable tbody');
        var rows = $tbody.find('tr').get();
        rows.sort(function(a, b) {
          var A = $(a).children().eq(columnIndex).text();
          var B = $(b).children().eq(columnIndex).text();
          if (type === 'number') {
            A = parseFloat($(a).children().eq(columnIndex).attr('data-value')) || 0;
            B = parseFloat($(b).children().eq(columnIndex).attr('data-value')) || 0;
          }
          if (A < B) {
            return direction === 'asc' ? -1 : 1;
          }
          if (A > B) {
            return direction === 'asc' ? 1 : -1;
          }
          return 0;
        });
        $.each(rows, function(_, row) {
          $tbody.append(row);
        });
      }

      function applyTheme(theme) {
        var selected = theme === 'dark' ? 'dark' : 'light';
        document.documentElement.setAttribute('data-theme', selected);
        var toggle = document.getElementById('themeToggle');
        if (toggle) {
          var icon = toggle.querySelector('i');
          var label = selected === 'dark' ? 'Switch to light mode' : 'Switch to dark mode';
          toggle.setAttribute('aria-label', label);
          if (icon) {
            icon.className = selected === 'dark'
              ? 'fa-duotone fa-regular fa-sun'
              : 'fa-duotone fa-regular fa-moon';
          }
        }
        try {
          localStorage.setItem('agon-theme', selected);
        } catch (e) {}
      }

      function initThemeToggle() {
        var saved = null;
        try {
          saved = localStorage.getItem('agon-theme');
        } catch (e) {}
        applyTheme(saved || 'light');
        var toggle = document.getElementById('themeToggle');
        if (!toggle) {
          return;
        }
        toggle.addEventListener('click', function() {
          var current = document.documentElement.getAttribute('data-theme');
          applyTheme(current === 'dark' ? 'light' : 'dark');
        });
      }

      function populateSummary(models) {
        var grouped = {};
        models.forEach(function(model) {
          var gpu = model.gpu || 'unknown';
          grouped[gpu] = grouped[gpu] || [];
          grouped[gpu].push(model);
        });

        var $container = $('#summaryRows').empty();
        var gpus = Object.keys(grouped).sort();
        if (!gpus.length) {
          return;
        }

        gpus.forEach(function(gpu) {
          var entries = grouped[gpu];
          var bestThroughput = null;
          var bestLatency = null;
          var bestEfficiency = null;
          var bestAccuracy = null;
          var bestTradeoff = null;
          var pareto = [];

          entries.forEach(function(model) {
            var throughput = getBenchmarkThroughput(model);
            if (throughput === null) {
              throughput = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_tokens_per_second : 0;
            }
            var latency = model.aggregates && model.aggregates.latency ? model.aggregates.latency.avg_total_ms : 0;
            var efficiency = model.aggregates && model.aggregates.efficiency ? model.aggregates.efficiency.accuracy_per_second : 0;
            var accuracy = model.aggregates && model.aggregates.accuracy ? model.aggregates.accuracy.accuracy : 0;
            var paretoFront = model.aggregates && model.aggregates.comparisons ? model.aggregates.comparisons.pareto_front : false;

            if (throughput > 0 && (!bestThroughput || throughput > bestThroughput.value)) {
              bestThroughput = { label: modelLabel(model), value: throughput };
            }
            if (latency > 0 && (!bestLatency || latency < bestLatency.value)) {
              bestLatency = { label: modelLabel(model), value: latency };
            }
            if (efficiency > 0 && (!bestEfficiency || efficiency > bestEfficiency.value)) {
              bestEfficiency = { label: modelLabel(model), value: efficiency };
            }
            if (accuracy > 0 && (!bestAccuracy || accuracy > bestAccuracy.value)) {
              bestAccuracy = { label: modelLabel(model), value: accuracy };
            }
            if (paretoFront) {
              pareto.push({ label: modelLabel(model), value: efficiency || 0 });
            }
          });

          if (pareto.length) {
            pareto.sort(function(a, b) { return b.value - a.value; });
            bestTradeoff = pareto[0];
          } else {
            bestTradeoff = bestEfficiency;
          }

          var row = $('<div class="row g-3 mb-3"></div>');
          var header = $('<div class="col-12"><h6 class="text-uppercase text-muted mb-0">GPU: ' + gpu + '</h6></div>');
          row.append(header);
          row.append(buildSummaryCard('fa-duotone fa-regular fa-rabbit-running fa-fw', 'Fastest Model', bestThroughput));
          row.append(buildSummaryCard('fa-duotone fa-regular fa-gauge-low', 'Best Latency', bestLatency));
          row.append(buildSummaryCard('fa-duotone fa-regular fa-gauge-high', 'Most Efficient', bestEfficiency));
          row.append(buildSummaryCard('fa-duotone fa-regular fa-bullseye-arrow', 'Most Accurate', bestAccuracy));
          row.append(buildSummaryCard('fa-duotone fa-regular fa-code-compare', 'Best Trade-off', bestTradeoff));
          $container.append(row);
        });
      }

      function buildSummaryCard(iconClass, label, entry) {
        var col = $('<div class="col-sm-6 col-lg-2"></div>');
        var card = $('<div class="card shadow-sm h-100"></div>');
        var body = $('<div class="card-body"></div>');
        body.append('<p style="font-size: 1.5em;" class="text-muted mb-1"><i class="' + iconClass + '"></i> ' + label + '</p>');
        body.append('<h5 class="card-title">' + (entry ? entry.label : '-') + '</h5>');
        card.append(body);
        col.append(card);
        return col;
      }

      function populateTable(models) {
        var $tbody = $('#modelsTable tbody').empty();
        models.forEach(function(model) {
          var accuracy = model.aggregates && model.aggregates.accuracy ? model.aggregates.accuracy.accuracy : null;
          var total = model.aggregates && model.aggregates.accuracy ? model.aggregates.accuracy.total : null;
          var deadlineRate = model.aggregates && model.aggregates.reliability ? model.aggregates.reliability.deadline_exceeded_rate : null;
          var avgTtft = model.aggregates && model.aggregates.latency ? model.aggregates.latency.avg_ttft_ms : null;
          var avgTps = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_tokens_per_second : null;
          if (!avgTps || avgTps === 0) {
            avgTps = getBenchmarkThroughput(model);
          }
          var effTps = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_effective_tps : null;
          var avgTotal = model.aggregates && model.aggregates.latency ? model.aggregates.latency.avg_total_ms : null;
          var avgOutput = model.aggregates && model.aggregates.token_usage ? model.aggregates.token_usage.avg_output_tokens : null;
          var efficiency = model.aggregates && model.aggregates.efficiency ? model.aggregates.efficiency.accuracy_per_second : null;
          var stability = model.aggregates && model.aggregates.stability ? model.aggregates.stability.tokens_per_second_cv : null;
          var pareto = model.aggregates && model.aggregates.comparisons ? model.aggregates.comparisons.pareto_front : false;

          var $row = $('<tr></tr>');
          $row.append(createTextCell(model.model || '-', model.model, 'fa-duotone fa-regular fa-cube'));
          $row.append(createTextCell(model.gpu || '-', model.gpu, 'fa-duotone fa-regular fa-microchip'));
          $row.append(createNumericCell(accuracy * 100, 1));
          $row.append(createNumericCell(total, 0));
          $row.append(createNumericCell(deadlineRate * 100, 1));
          $row.append(createNumericCell(avgTtft, 0));
          $row.append(createNumericCell(avgTps, 2));
          $row.append(createNumericCell(effTps, 2));
          $row.append(createNumericCell(avgTotal, 0));
          $row.append(createNumericCell(avgOutput, 1));
          $row.append(createNumericCell(efficiency, 3));
          $row.append(createNumericCell(stability, 3));
          $row.append(createTextCell(pareto ? 'yes' : 'no', pareto ? 1 : 0));
          $tbody.append($row);
        });
      }
      function buildAccuracyThroughputChart(models) {
        var canvas = document.getElementById('accuracyThroughputChart');
        if (!canvas) {
          return;
        }
        function getColorForAccuracy(accuracy) {
          if (accuracy >= 70) return '#334155';
          if (accuracy >= 50) return '#64748B';
          if (accuracy >= 35) return '#94A3B8';
          return '#CBD5E1';
        }

        var points = [];
        models.forEach(function(model) {
          var accuracy = model.aggregates && model.aggregates.accuracy ? model.aggregates.accuracy.accuracy : null;
          var throughput = getBenchmarkThroughput(model);
          if (throughput === null) {
            throughput = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_tokens_per_second : null;
          }
          if (accuracy === null || throughput === null) {
            return;
          }
          points.push({
            x: throughput,
            y: accuracy * 100,
            modelName: modelLabel(model)
          });
        });
        if (points.length === 0) {
          if (chartState.accuracyThroughput) {
            chartState.accuracyThroughput.destroy();
            chartState.accuracyThroughput = null;
          }
          $('#accuracyThroughputEmpty').text('No accuracy data available for this report.');
          return;
        }

        var chartData = points.map(function(point) {
          return {
            x: point.x,
            y: point.y,
            modelName: point.modelName,
            backgroundColor: getColorForAccuracy(point.y)
          };
        });

        var labelPlugin = {
          id: 'modelLabels',
          afterDatasetsDraw: function(chart) {
            var ctx = chart.ctx;
            chart.data.datasets.forEach(function(dataset, datasetIndex) {
              var meta = chart.getDatasetMeta(datasetIndex);
              meta.data.forEach(function(element, index) {
                var data = chartData[index];
                if (!data) {
                  return;
                }
                var modelName = (data.modelName || '').split('@')[0].trim();
                if (!modelName) {
                  return;
                }
                ctx.fillStyle = '#0F172A';
                ctx.font = 'bold 11px sans-serif';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'bottom';
                ctx.fillText(modelName, element.x, element.y - 12);
              });
            });
          }
        };

        if (chartState.accuracyThroughput) {
          chartState.accuracyThroughput.destroy();
        }
        chartState.accuracyThroughput = new Chart(canvas, {
          type: 'scatter',
          data: {
            datasets: [{
              data: chartData,
              pointRadius: 8,
              pointHoverRadius: 12,
              pointBackgroundColor: chartData.map(function(d) { return d.backgroundColor; }),
              pointBorderColor: '#ffffff',
              pointBorderWidth: 2,
              pointHoverBorderWidth: 3
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: {
                title: {
                  display: true,
                  text: 'Throughput (tokens/second)',
                  font: {
                    size: 14,
                    weight: 'bold'
                  },
                  color: '#64748B'
                },
                grid: {
                  color: 'rgba(0, 0, 0, 0.05)'
                },
                ticks: {
                  color: '#64748B'
                }
              },
              y: {
                title: {
                  display: true,
                  text: 'Accuracy (%)',
                  font: {
                    size: 14,
                    weight: 'bold'
                  },
                  color: '#64748B'
                },
                suggestedMin: 0,
                suggestedMax: 100,
                grid: {
                  color: 'rgba(0, 0, 0, 0.05)'
                },
                ticks: {
                  color: '#64748B',
                  callback: function(value) {
                    return value + '%';
                  }
                }
              }
            },
            plugins: {
              legend: {
                display: false
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    var point = context.raw || {};
                    var tps = typeof point.x === 'number' ? point.x.toFixed(2) : 'n/a';
                    var acc = typeof point.y === 'number' ? point.y.toFixed(1) : 'n/a';
                    return [
                      'Throughput: ' + tps + ' tokens/sec',
                      'Accuracy: ' + acc + '%'
                    ];
                  },
                  title: function(items) {
                    if (!items.length) {
                      return 'model';
                    }
                    var data = chartData[items[0].dataIndex] || {};
                    return data.modelName || 'model';
                  }
                }
              }
            }
          },
          plugins: [labelPlugin]
        });
      }

      function buildEfficiencyChart(models) {
        var canvas = document.getElementById('efficiencyChart');
        if (!canvas) {
          return;
        }
        var labels = [];
        var values = [];
        models.forEach(function(model) {
          var efficiency = model.aggregates && model.aggregates.efficiency ? model.aggregates.efficiency.accuracy_per_second : null;
          if (efficiency === null || isNaN(efficiency)) {
            return;
          }
          labels.push(modelLabel(model));
          values.push(efficiency);
        });
        if (!values.length) {
          if (chartState.efficiency) {
            chartState.efficiency.destroy();
            chartState.efficiency = null;
          }
          $('#efficiencyEmpty').text('No efficiency data available for this report.');
          return;
        }
        if (chartState.efficiency) {
          chartState.efficiency.destroy();
        }
        chartState.efficiency = new Chart(canvas, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [{
              label: 'Accuracy per second',
              data: values,
              backgroundColor: '#3B82F6'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: {
                ticks: { color: '#64748B' }
              },
              y: {
                title: {
                  display: true,
                  text: 'Accuracy per second',
                  color: '#64748B'
                },
                ticks: { color: '#64748B' }
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return formatNumber(context.raw, 3);
                  }
                }
              }
            }
          }
        });
      }

      function buildEffectiveTpsChart(models) {
        var canvas = document.getElementById('effectiveTpsChart');
        if (!canvas) {
          return;
        }
        var labels = [];
        var values = [];
        models.forEach(function(model) {
          var effTps = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_effective_tps : null;
          if (effTps === null || isNaN(effTps)) {
            return;
          }
          labels.push(modelLabel(model));
          values.push(effTps);
        });
        if (!values.length) {
          if (chartState.effectiveTps) {
            chartState.effectiveTps.destroy();
            chartState.effectiveTps = null;
          }
          $('#effectiveTpsEmpty').text('No effective TPS data available for this report.');
          return;
        }
        if (chartState.effectiveTps) {
          chartState.effectiveTps.destroy();
        }
        chartState.effectiveTps = new Chart(canvas, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [{
              label: 'Effective tokens/sec',
              data: values,
              backgroundColor: '#14B8A6'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: {
                ticks: { color: '#64748B' }
              },
              y: {
                title: {
                  display: true,
                  text: 'Effective tokens/sec',
                  color: '#64748B'
                },
                ticks: { color: '#64748B' }
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return formatNumber(context.raw, 2);
                  }
                }
              }
            }
          }
        });
      }

      function buildAvgLogprobChart(models) {
        var canvas = document.getElementById('avgLogprobChart');
        if (!canvas) {
          return;
        }
        var labels = [];
        var values = [];
        models.forEach(function(model) {
          var avgLogprob = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput.avg_logprob : null;
          if (avgLogprob === null || isNaN(avgLogprob)) {
            return;
          }
          labels.push(modelLabel(model));
          values.push(avgLogprob);
        });
        if (!values.length) {
          if (chartState.avgLogprob) {
            chartState.avgLogprob.destroy();
            chartState.avgLogprob = null;
          }
          $('#avgLogprobEmpty').text('No logprob data available for this report.');
          return;
        }
        if (chartState.avgLogprob) {
          chartState.avgLogprob.destroy();
        }
        chartState.avgLogprob = new Chart(canvas, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [{
              label: 'Average logprob',
              data: values,
              backgroundColor: '#64748B'
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: {
                ticks: { color: '#64748B' }
              },
              y: {
                title: {
                  display: true,
                  text: 'Average logprob',
                  color: '#64748B'
                },
                ticks: { color: '#64748B' }
              }
            },
            plugins: {
              legend: { display: false },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return formatNumber(context.raw, 3);
                  }
                }
              }
            }
          }
        });
      }

      function buildLatencyPercentileChart(models) {
        var canvas = document.getElementById('latencyPercentileChart');
        if (!canvas) {
          return;
        }
        var labels = [];
        var p50 = [];
        var p90 = [];
        var p95 = [];
        models.forEach(function(model) {
          var latency = model.aggregates ? model.aggregates.latency : null;
          if (!latency) {
            return;
          }
          labels.push(modelLabel(model));
          p50.push(latency.median_ttft_ms || 0);
          p90.push(latency.p90_ttft_ms || 0);
          p95.push(latency.p95_ttft_ms || 0);
        });
        if (!labels.length) {
          if (chartState.latencyPercentile) {
            chartState.latencyPercentile.destroy();
            chartState.latencyPercentile = null;
          }
          $('#latencyPercentileEmpty').text('No latency percentile data available for this report.');
          return;
        }
        if (chartState.latencyPercentile) {
          chartState.latencyPercentile.destroy();
        }
        chartState.latencyPercentile = new Chart(canvas, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [
              { label: 'P50 TTFT (ms)', data: p50, backgroundColor: '#94A3B8' },
              { label: 'P90 TTFT (ms)', data: p90, backgroundColor: '#64748B' },
              { label: 'P95 TTFT (ms)', data: p95, backgroundColor: '#334155' }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: { ticks: { color: '#64748B' } },
              y: {
                title: { display: true, text: 'TTFT (ms)', color: '#64748B' },
                ticks: { color: '#64748B' }
              }
            },
            plugins: {
              legend: {
                position: 'bottom',
                labels: { color: '#64748B' }
              }
            }
          }
        });
      }

      function buildCorrelationChart(models) {
        var canvas = document.getElementById('correlationChart');
        if (!canvas) {
          return;
        }
        var labels = [];
        var accVsTps = [];
        var accVsLatency = [];
        models.forEach(function(model) {
          var corr = model.aggregates ? model.aggregates.correlations : null;
          if (!corr) {
            return;
          }
          labels.push(modelLabel(model));
          accVsTps.push(corr.accuracy_vs_throughput || 0);
          accVsLatency.push(corr.accuracy_vs_total_ms || 0);
        });
        if (!labels.length) {
          if (chartState.correlation) {
            chartState.correlation.destroy();
            chartState.correlation = null;
          }
          $('#correlationEmpty').text('No correlation data available for this report.');
          return;
        }
        if (chartState.correlation) {
          chartState.correlation.destroy();
        }
        chartState.correlation = new Chart(canvas, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: [
              { label: 'Accuracy vs Throughput', data: accVsTps, backgroundColor: '#10B981' },
              { label: 'Accuracy vs Total Latency', data: accVsLatency, backgroundColor: '#F59E0B' }
            ]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            animation: false,
            scales: {
              x: { ticks: { color: '#64748B' } },
              y: {
                min: -1,
                max: 1,
                title: { display: true, text: 'Correlation', color: '#64748B' },
                ticks: { color: '#64748B' }
              }
            },
            plugins: {
              legend: { position: 'bottom', labels: { color: '#64748B' } },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    return formatNumber(context.raw, 3);
                  }
                }
              }
            }
          }
        });
      }
      function buildInputTokenCharts(models) {
        var ttftCanvas = document.getElementById('inputTokensTtftChart');
        var tpsCanvas = document.getElementById('inputTokensTpsChart');
        if (!ttftCanvas || !tpsCanvas) {
          return;
        }

        var palette = [
          '#334155', '#64748B', '#94A3B8', '#CBD5E1', '#3B82F6',
          '#1D4ED8', '#0EA5E9', '#38BDF8', '#14B8A6', '#10B981'
        ];
        var modelColors = {};
        models.forEach(function(model, index) {
          modelColors[modelLabel(model)] = palette[index % palette.length];
        });

        function collectPoints(selectedLabel) {
          var datasets = [];
          models.forEach(function(model) {
            var label = modelLabel(model);
            if (selectedLabel && selectedLabel !== 'all' && label !== selectedLabel) {
              return;
            }
            var records = model.accuracy || [];
            if (!records.length) {
              return;
            }
            var color = modelColors[label] || '#64748B';
            var ttftPoints = [];
            var tpsPoints = [];
            records.forEach(function(record) {
              var inputTokens = Number(record.input_tokens);
              if (isNaN(inputTokens)) {
                return;
              }
              var ttftMs = Number(record.time_to_first_token);
              if (!isNaN(ttftMs)) {
                ttftPoints.push({ x: inputTokens, y: ttftMs, modelName: label });
              }
              var tps = Number(record.tokens_per_second);
              if (!isNaN(tps)) {
                tpsPoints.push({ x: inputTokens, y: tps, modelName: label });
              }
            });
            if (ttftPoints.length) {
              datasets.push({
                model: label,
                color: color,
                ttft: ttftPoints,
                tps: tpsPoints
              });
            }
          });
          return datasets;
        }

        function buildChart(canvas, datasets, yLabel, yFormatter) {
          return new Chart(canvas, {
            type: 'scatter',
            data: {
              datasets: datasets.map(function(dataset) {
                return {
                  label: dataset.model,
                  data: yLabel.indexOf('TTFT') !== -1 ? dataset.ttft : dataset.tps,
                  backgroundColor: dataset.color,
                  borderColor: '#ffffff',
                  borderWidth: 1,
                  pointRadius: 6,
                  pointHoverRadius: 9
                };
              })
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              animation: false,
              scales: {
                x: {
                  title: {
                    display: true,
                    text: 'Input tokens',
                    font: { size: 13, weight: 'bold' },
                    color: '#64748B'
                  },
                  grid: { color: 'rgba(0, 0, 0, 0.05)' },
                  ticks: { color: '#64748B' }
                },
                y: {
                  title: {
                    display: true,
                    text: yLabel,
                    font: { size: 13, weight: 'bold' },
                    color: '#64748B'
                  },
                  grid: { color: 'rgba(0, 0, 0, 0.05)' },
                  ticks: {
                    color: '#64748B',
                    callback: yFormatter
                  }
                }
              },
              plugins: {
                legend: {
                  position: 'bottom',
                  labels: {
                    usePointStyle: true,
                    boxWidth: 8,
                    color: '#64748B'
                  }
                },
                tooltip: {
                  callbacks: {
                    title: function(items) {
                      if (!items.length) {
                        return 'model';
                      }
                      var point = items[0].raw || {};
                      return point.modelName || items[0].dataset.label || 'model';
                    },
                    label: function(context) {
                      var point = context.raw || {};
                      var x = typeof point.x === 'number' ? point.x.toFixed(0) : 'n/a';
                      var y = typeof point.y === 'number' ? point.y.toFixed(2) : 'n/a';
                      return 'Input tokens: ' + x + ', ' + yLabel + ': ' + y;
                    }
                  }
                }
              }
            }
          });
        }

        var filter = $('#inputTokenModelFilter').empty();
        filter.append('<option value="all">All models</option>');
        models.forEach(function(model) {
          filter.append('<option value="' + modelLabel(model) + '">' + modelLabel(model) + '</option>');
        });

        function renderCharts() {
          if (chartState.inputTtft) {
            chartState.inputTtft.destroy();
          }
          if (chartState.inputTps) {
            chartState.inputTps.destroy();
          }
          $('#inputTokensTtftEmpty').text('');
          $('#inputTokensTpsEmpty').text('');

          var selected = filter.val();
          var datasets = collectPoints(selected);
          if (!datasets.length) {
            chartState.inputTtft = null;
            chartState.inputTps = null;
            $('#inputTokensTtftEmpty').text('No input token data available for this selection.');
            $('#inputTokensTpsEmpty').text('No input token data available for this selection.');
            return;
          }
          chartState.inputTtft = buildChart(ttftCanvas, datasets, 'TTFT (ms)', function(value) { return Math.round(value) + ' ms'; });
          chartState.inputTps = buildChart(tpsCanvas, datasets, 'Tokens per second', function(value) { return Math.round(value); });
        }

        filter.on('change', renderCharts);
        renderCharts();
      }

      function buildAccordion(models) {
        var $accordion = $('#modelAccordion').empty();
        if (!models.length) {
          $accordion.append('<div class="text-muted">No model details available.</div>');
          return;
        }
        models.forEach(function(model, index) {
          var bundleId = 'model_' + index;
          var headerId = 'heading_' + index;
          var label = modelLabel(model);
          var accuracy = model.aggregates && model.aggregates.accuracy ? model.aggregates.accuracy : {};
          var latency = model.aggregates && model.aggregates.latency ? model.aggregates.latency : {};
          var throughput = model.aggregates && model.aggregates.throughput ? model.aggregates.throughput : {};
          var benchmark = model.aggregates && model.aggregates.benchmark ? model.aggregates.benchmark : {};
          var reliability = model.aggregates && model.aggregates.reliability ? model.aggregates.reliability : {};
          var efficiency = model.aggregates && model.aggregates.efficiency ? model.aggregates.efficiency : {};
          var distributions = model.aggregates && model.aggregates.distributions ? model.aggregates.distributions : {};
          var correlations = model.aggregates && model.aggregates.correlations ? model.aggregates.correlations : {};
          var metadata = model.aggregates && model.aggregates.metadata ? model.aggregates.metadata : {};
          var records = model.accuracy || [];
          var avgPromptMs = averageField(records, 'prompt_ms');
          var avgPredictedMs = averageField(records, 'predicted_ms');
          var avgPromptPerTokenMs = averageField(records, 'prompt_per_token_ms');
          var avgPredictedPerTokenMs = averageField(records, 'predicted_per_token_ms');
          var avgPromptPerSecond = averageField(records, 'prompt_per_second');
          var avgPredictedPerSecond = averageField(records, 'predicted_per_second');
          var avgTotalTokens = averageField(records, 'total_tokens');
          var avgCacheN = averageField(records, 'cache_n');
          var avgPromptN = averageField(records, 'prompt_n');
          var avgPredictedN = averageField(records, 'predicted_n');

          var bodyParts = [];
          bodyParts.push('<div class="row">');
          bodyParts.push('<div class="col-md-6">');
          bodyParts.push('<h6>Accuracy</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Accuracy:</strong> ' + formatPercent(accuracy.accuracy, 1) + '</li>');
          bodyParts.push('<li><strong>Error rate:</strong> ' + formatPercent(accuracy.error_rate, 1) + '</li>');
          bodyParts.push('<li><strong>Avg difficulty:</strong> ' + formatNumber(accuracy.avg_difficulty, 2) + '</li>');
          bodyParts.push('<li><strong>Avg margin:</strong> ' + formatNumber(accuracy.avg_margin_of_error, 2) + '</li>');
          bodyParts.push('</ul><h6>Latency</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Avg TTFT:</strong> ' + formatNumber(latency.avg_ttft_ms, 0) + ' ms</li>');
          bodyParts.push('<li><strong>TTFT P50/P90/P95:</strong> ' + formatNumber(latency.median_ttft_ms, 0) + ' / ' + formatNumber(latency.p90_ttft_ms, 0) + ' / ' + formatNumber(latency.p95_ttft_ms, 0) + ' ms</li>');
          bodyParts.push('<li><strong>Avg total:</strong> ' + formatNumber(latency.avg_total_ms, 0) + ' ms</li>');
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Reliability</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Deadline rate:</strong> ' + formatPercent(reliability.deadline_exceeded_rate, 1) + '</li>');
          bodyParts.push('<li><strong>Timeout rate:</strong> ' + formatPercent(reliability.timeout_rate, 1) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('</div>');
          bodyParts.push('<div class="col-md-6">');
          bodyParts.push('<h6>Throughput &amp; Efficiency</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Avg TPS:</strong> ' + formatNumber(throughput.avg_tokens_per_second, 2) + '</li>');
          bodyParts.push('<li><strong>Effective TPS:</strong> ' + formatNumber(throughput.avg_effective_tps, 2) + '</li>');
          bodyParts.push('<li><strong>Avg logprob:</strong> ' + formatNumber(throughput.avg_logprob, 3) + '</li>');
          bodyParts.push('<li><strong>TPS P90:</strong> ' + formatNumber(throughput.p90_tokens_per_second, 2) + '</li>');
          bodyParts.push('<li><strong>Accuracy per second:</strong> ' + formatNumber(efficiency.accuracy_per_second, 3) + '</li>');
          bodyParts.push('<li><strong>Tokens/sec per param:</strong> ' + formatNumber(efficiency.tokens_per_second_per_param, 6) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Benchmarks</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Prompt TPS:</strong> ' + formatNumber(benchmark.prompt_tokens_per_second, 2) + '</li>');
          bodyParts.push('<li><strong>Generation TPS:</strong> ' + formatNumber(benchmark.generation_tokens_per_second, 2) + '</li>');
          bodyParts.push('<li><strong>Avg benchmark (ms):</strong> ' + formatNumber((benchmark.avg_benchmark_ns || 0) / 1000000, 2) + '</li>');
          bodyParts.push('<li><strong>Run count:</strong> ' + formatNumber(benchmark.run_count, 0) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Usage &amp; Timings (avg)</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Total tokens:</strong> ' + formatNumber(avgTotalTokens, 1) + '</li>');
          bodyParts.push('<li><strong>Cache n:</strong> ' + formatNumber(avgCacheN, 1) + '</li>');
          bodyParts.push('<li><strong>Prompt n:</strong> ' + formatNumber(avgPromptN, 1) + '</li>');
          bodyParts.push('<li><strong>Predicted n:</strong> ' + formatNumber(avgPredictedN, 1) + '</li>');
          bodyParts.push('<li><strong>Prompt ms:</strong> ' + formatNumber(avgPromptMs, 2) + '</li>');
          bodyParts.push('<li><strong>Predicted ms:</strong> ' + formatNumber(avgPredictedMs, 2) + '</li>');
          bodyParts.push('<li><strong>Prompt ms/token:</strong> ' + formatNumber(avgPromptPerTokenMs, 3) + '</li>');
          bodyParts.push('<li><strong>Predicted ms/token:</strong> ' + formatNumber(avgPredictedPerTokenMs, 3) + '</li>');
          bodyParts.push('<li><strong>Prompt tokens/sec:</strong> ' + formatNumber(avgPromptPerSecond, 2) + '</li>');
          bodyParts.push('<li><strong>Predicted tokens/sec:</strong> ' + formatNumber(avgPredictedPerSecond, 2) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Correlations</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Acc vs TPS:</strong> ' + formatNumber(correlations.accuracy_vs_throughput, 3) + '</li>');
          bodyParts.push('<li><strong>Acc vs Total:</strong> ' + formatNumber(correlations.accuracy_vs_total_ms, 3) + '</li>');
          bodyParts.push('<li><strong>TTFT vs Input:</strong> ' + formatNumber(correlations.ttft_vs_input_tokens, 3) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Distributions</h6><ul class="list-unstyled mb-3">');
          if (distributions.ttft_ms) {
            bodyParts.push('<li><strong>TTFT stddev:</strong> ' + formatNumber(distributions.ttft_ms.stddev, 2) + '</li>');
          }
          if (distributions.tokens_per_second) {
            bodyParts.push('<li><strong>TPS stddev:</strong> ' + formatNumber(distributions.tokens_per_second.stddev, 2) + '</li>');
          }
          bodyParts.push('</ul>');
          bodyParts.push('<h6>Metadata</h6><ul class="list-unstyled mb-3">');
          bodyParts.push('<li><strong>Backend:</strong> ' + (metadata.backend || '-') + '</li>');
          bodyParts.push('<li><strong>Model type:</strong> ' + (metadata.model_type || '-') + '</li>');
          bodyParts.push('<li><strong>Context size:</strong> ' + formatNumber(metadata.context_size, 0) + '</li>');
          bodyParts.push('</ul>');
          bodyParts.push('</div>');
          bodyParts.push('</div>');
          var body = bodyParts.join('');

          var $item = $('<div class="accordion-item"></div>');
          var header = ''
            + '<h2 class="accordion-header" id="' + headerId + '">' 
            + '<button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#' + bundleId + '" aria-expanded="false" aria-controls="' + bundleId + '">' 
            + label
            + '</button>'
            + '</h2>';
          var content = ''
            + '<div id="' + bundleId + '" class="accordion-collapse collapse" aria-labelledby="' + headerId + '" data-bs-parent="#modelAccordion">'
            + '<div class="accordion-body">' + body + '</div>'
            + '</div>';
          $item.append(header);
          $item.append(content);
          $accordion.append($item);
        });
      }

      function renderAll(models) {
        populateSummary(models);
        populateTable(models);
        attachSorting();
        buildAccuracyThroughputChart(models);
        buildEfficiencyChart(models);
        buildEffectiveTpsChart(models);
        buildAvgLogprobChart(models);
        buildLatencyPercentileChart(models);
        buildCorrelationChart(models);
        buildInputTokenCharts(models);
        buildAccordion(models);
      }

      $(function() {
        initThemeToggle();
        if (!metrics) {
          return;
        }

        $('#generatedAt').text(new Date().toLocaleString());
        initGpuFilter(allModels);
        renderAll(applyGpuFilter(allModels));
      });
    })(jQuery);
  </script>
</body>
</html>
